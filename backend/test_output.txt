
> shumilog-backend@1.0.0 test
> vitest run


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend[39m

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs[2m > [22m[2mlists public logs with author and tag metadata
[22m[39m[2025-09-28T05:52:21.775Z] GET http://localhost/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs[2m > [22m[2mlists public logs with author and tag metadata
[22m[39m[2025-09-28T05:52:21.809Z] GET http://localhost/logs - 200 - 34ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs[2m > [22m[2mfilters list by tag_ids
[22m[39m[2025-09-28T05:52:22.289Z] GET http://localhost/logs?tag_ids=tag_anime - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs[2m > [22m[2mfilters list by tag_ids
[22m[39m[2025-09-28T05:52:22.320Z] GET http://localhost/logs?tag_ids=tag_anime - 200 - 31ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs[2m > [22m[2mfilters list by user_id
[22m[39m[2025-09-28T05:52:22.805Z] GET http://localhost/logs?user_id=user_log_owner - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs[2m > [22m[2mfilters list by user_id
[22m[39m[2025-09-28T05:52:22.834Z] GET http://localhost/logs?user_id=user_log_owner - 200 - 29ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs[2m > [22m[2menforces pagination bounds
[22m[39m[2025-09-28T05:52:23.275Z] GET http://localhost/logs?limit=0 - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs[2m > [22m[2menforces pagination bounds
[22m[39mUnhandled error: HTTPException [Error]: Invalid limit parameter
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:192:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:13
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:59
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:13
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:103:12
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m {
  res: [90mundefined[39m,
  status: [33m400[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs[2m > [22m[2menforces pagination bounds
[22m[39m[2025-09-28T05:52:23.283Z] GET http://localhost/logs?limit=0 - 400 - 8ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs[2m > [22m[2menforces pagination bounds
[22m[39m[2025-09-28T05:52:23.284Z] GET http://localhost/logs?limit=101 - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs[2m > [22m[2menforces pagination bounds
[22m[39mUnhandled error: HTTPException [Error]: Invalid limit parameter
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:192:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:13
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:59
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:13
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:103:12
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m {
  res: [90mundefined[39m,
  status: [33m400[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs[2m > [22m[2menforces pagination bounds
[22m[39m[2025-09-28T05:52:23.285Z] GET http://localhost/logs?limit=101 - 400 - 1ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs[2m > [22m[2mcreates a new log for the authenticated user
[22m[39m[2025-09-28T05:52:23.656Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs[2m > [22m[2mcreates a new log for the authenticated user
[22m[39m[2025-09-28T05:52:23.735Z] POST http://localhost/logs - 201 - 79ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs[2m > [22m[2mcreates a new log using tag_names and auto-creates missing tags
[22m[39m[2025-09-28T05:52:24.095Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs[2m > [22m[2mcreates a new log using tag_names and auto-creates missing tags
[22m[39m[2025-09-28T05:52:24.241Z] POST http://localhost/logs - 201 - 146ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs[2m > [22m[2mreturns 400 when payload is invalid
[22m[39m[2025-09-28T05:52:24.588Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs[2m > [22m[2mreturns 400 when payload is invalid
[22m[39m[2025-09-28T05:52:24.646Z] POST http://localhost/logs - 201 - 58ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs[2m > [22m[2mreturns 401 when unauthenticated
[22m[39m[2025-09-28T05:52:24.956Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs[2m > [22m[2mreturns 401 when unauthenticated
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:101:14
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs[2m > [22m[2mreturns 401 when unauthenticated
[22m[39m[2025-09-28T05:52:24.958Z] POST http://localhost/logs - 401 - 2ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns public log detail for any visitor
[22m[39m[2025-09-28T05:52:25.349Z] GET http://localhost/logs/log_public_entry - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns public log detail for any visitor
[22m[39m[2025-09-28T05:52:25.367Z] GET http://localhost/logs/log_public_entry - 200 - 18ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mallows owners to see private logs
[22m[39m[2025-09-28T05:52:25.777Z] GET http://localhost/logs/log_private_entry - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mallows owners to see private logs
[22m[39m[2025-09-28T05:52:25.804Z] GET http://localhost/logs/log_private_entry - 200 - 27ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns 403 for private log when not owner
[22m[39m[2025-09-28T05:52:26.174Z] GET http://localhost/logs/log_private_entry - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns 403 for private log when not owner
[22m[39mUnhandled error: HTTPException [Error]: Access denied
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:304:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m403[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns 403 for private log when not owner
[22m[39m[2025-09-28T05:52:26.205Z] GET http://localhost/logs/log_private_entry - 403 - 31ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns 403 for private log when unauthenticated
[22m[39m[2025-09-28T05:52:26.564Z] GET http://localhost/logs/log_private_entry - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns 403 for private log when unauthenticated
[22m[39mUnhandled error: HTTPException [Error]: Access denied
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:304:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m403[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns 403 for private log when unauthenticated
[22m[39m[2025-09-28T05:52:26.586Z] GET http://localhost/logs/log_private_entry - 403 - 22ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns 404 for missing log
[22m[39m[2025-09-28T05:52:26.846Z] GET http://localhost/logs/log_does_not_exist - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns 404 for missing log
[22m[39mUnhandled error: HTTPException [Error]: Log not found
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:296:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m404[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns 404 for missing log
[22m[39m[2025-09-28T05:52:26.853Z] GET http://localhost/logs/log_does_not_exist - 404 - 7ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns 400 when log id format is invalid
[22m[39m[2025-09-28T05:52:27.123Z] GET http://localhost/logs/not-a-ulid! - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns 400 when log id format is invalid
[22m[39mUnhandled error: HTTPException [Error]: Invalid log ID format
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:288:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:13
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:59
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m400[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mGET /logs/:logId[2m > [22m[2mreturns 400 when log id format is invalid
[22m[39m[2025-09-28T05:52:27.124Z] GET http://localhost/logs/not-a-ulid! - 400 - 1ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mupdates log content and visibility for owner
[22m[39m[2025-09-28T05:52:27.479Z] PUT http://localhost/logs/log_public_entry - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mupdates log content and visibility for owner
[22m[39m[2025-09-28T05:52:27.573Z] PUT http://localhost/logs/log_public_entry - 200 - 94ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mreturns 401 when unauthenticated
[22m[39m[2025-09-28T05:52:27.935Z] PUT http://localhost/logs/log_public_entry - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mreturns 401 when unauthenticated
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:321:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:13
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:59
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mreturns 401 when unauthenticated
[22m[39m[2025-09-28T05:52:27.936Z] PUT http://localhost/logs/log_public_entry - 401 - 1ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mreturns 403 when requester does not own the log
[22m[39m[2025-09-28T05:52:28.341Z] PUT http://localhost/logs/log_public_entry - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mreturns 403 when requester does not own the log
[22m[39mUnhandled error: HTTPException [Error]: Not log owner
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:356:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m403[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mreturns 403 when requester does not own the log
[22m[39m[2025-09-28T05:52:28.389Z] PUT http://localhost/logs/log_public_entry - 403 - 48ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mreturns 404 when log does not exist
[22m[39m[2025-09-28T05:52:28.657Z] PUT http://localhost/logs/log_missing - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mreturns 404 when log does not exist
[22m[39mUnhandled error: HTTPException [Error]: Log not found
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:352:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m404[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mreturns 404 when log does not exist
[22m[39m[2025-09-28T05:52:28.677Z] PUT http://localhost/logs/log_missing - 404 - 20ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mreturns 400 when payload is invalid
[22m[39m[2025-09-28T05:52:29.043Z] PUT http://localhost/logs/log_public_entry - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mreturns 400 when payload is invalid
[22m[39mUnhandled error: HTTPException [Error]: content_md is required and must be a string
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:332:11
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m400[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPUT /logs/:logId[2m > [22m[2mreturns 400 when payload is invalid
[22m[39m[2025-09-28T05:52:29.064Z] PUT http://localhost/logs/log_public_entry - 400 - 21ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mdeletes a log owned by the requester
[22m[39m[2025-09-28T05:52:29.397Z] DELETE http://localhost/logs/log_public_entry - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mdeletes a log owned by the requester
[22m[39m[2025-09-28T05:52:29.453Z] DELETE http://localhost/logs/log_public_entry - 204 - 56ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mdeletes a log owned by the requester
[22m[39m[2025-09-28T05:52:29.455Z] GET http://localhost/logs/log_public_entry - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mdeletes a log owned by the requester
[22m[39mUnhandled error: HTTPException [Error]: Log not found
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:296:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m404[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mdeletes a log owned by the requester
[22m[39m[2025-09-28T05:52:29.475Z] GET http://localhost/logs/log_public_entry - 404 - 20ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mreturns 401 when unauthenticated
[22m[39m[2025-09-28T05:52:29.806Z] DELETE http://localhost/logs/log_public_entry - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mreturns 401 when unauthenticated
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:382:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:13
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:59
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mreturns 401 when unauthenticated
[22m[39m[2025-09-28T05:52:29.808Z] DELETE http://localhost/logs/log_public_entry - 401 - 2ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mreturns 403 when user does not own the log
[22m[39m[2025-09-28T05:52:30.196Z] DELETE http://localhost/logs/log_public_entry - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mreturns 403 when user does not own the log
[22m[39mUnhandled error: HTTPException [Error]: Not log owner
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:393:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m403[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mreturns 403 when user does not own the log
[22m[39m[2025-09-28T05:52:30.225Z] DELETE http://localhost/logs/log_public_entry - 403 - 29ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mreturns 404 for missing log
[22m[39m[2025-09-28T05:52:30.495Z] DELETE http://localhost/logs/log_missing - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mreturns 404 for missing log
[22m[39mUnhandled error: HTTPException [Error]: Log not found
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:389:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m404[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mDELETE /logs/:logId[2m > [22m[2mreturns 404 for missing log
[22m[39m[2025-09-28T05:52:30.519Z] DELETE http://localhost/logs/log_missing - 404 - 24ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mshares a public log for the owner
[22m[39m[2025-09-28T05:52:30.901Z] POST http://localhost/logs/log_public_entry/share - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mshares a public log for the owner
[22m[39mTwitter Share (STUB): {
  timestamp: [32m'2025-09-28T05:52:30.927Z'[39m,
  logTitle: [32m'First Public Entry'[39m,
  logContent: [32m'# Public Entry\nHello world'[39m,
  shareUrl: [32m'http://localhost/logs/log_public_entry'[39m,
  accessToken: [32m'mock_acces...'[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mshares a public log for the owner
[22m[39m[2025-09-28T05:52:30.928Z] POST http://localhost/logs/log_public_entry/share - 200 - 27ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mreturns 401 when unauthenticated
[22m[39m[2025-09-28T05:52:31.307Z] POST http://localhost/logs/log_public_entry/share - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mreturns 401 when unauthenticated
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:414:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:13
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:59
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mreturns 401 when unauthenticated
[22m[39m[2025-09-28T05:52:31.308Z] POST http://localhost/logs/log_public_entry/share - 401 - 1ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mreturns 403 when user is not the owner
[22m[39m[2025-09-28T05:52:31.656Z] POST http://localhost/logs/log_public_entry/share - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mreturns 403 when user is not the owner
[22m[39mUnhandled error: HTTPException [Error]: Not log owner
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:425:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m403[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mreturns 403 when user is not the owner
[22m[39m[2025-09-28T05:52:31.692Z] POST http://localhost/logs/log_public_entry/share - 403 - 36ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mreturns 400 when log is private
[22m[39m[2025-09-28T05:52:32.044Z] POST http://localhost/logs/log_private_entry/share - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mreturns 400 when log is private
[22m[39mUnhandled error: HTTPException [Error]: Cannot share private log
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:430:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m400[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mreturns 400 when log is private
[22m[39m[2025-09-28T05:52:32.070Z] POST http://localhost/logs/log_private_entry/share - 400 - 26ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mreturns 404 when log does not exist
[22m[39m[2025-09-28T05:52:32.342Z] POST http://localhost/logs/log_missing/share - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mreturns 404 when log does not exist
[22m[39mUnhandled error: HTTPException [Error]: Log not found
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:421:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m404[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2mreturns 404 when log does not exist
[22m[39m[2025-09-28T05:52:32.362Z] POST http://localhost/logs/log_missing/share - 404 - 20ms

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2msurfaces upstream Twitter failures as 502
[22m[39m[2025-09-28T05:52:32.698Z] POST http://localhost/logs/log_public_entry/share - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2msurfaces upstream Twitter failures as 502
[22m[39mUnhandled error: HTTPException [Error]: Twitter API error
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:443:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m502[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/logs.contract.test.ts[2m > [22m[2mContract: Logs routes[2m > [22m[2mPOST /logs/:logId/share[2m > [22m[2msurfaces upstream Twitter failures as 502
[22m[39m[2025-09-28T05:52:32.725Z] POST http://localhost/logs/log_public_entry/share - 502 - 27ms

 [31m❯[39m tests/contract/logs.contract.test.ts [2m([22m[2m29 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 11381[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mGET /logs[2m > [22mlists public logs with author and tag metadata [33m 519[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mGET /logs[2m > [22mfilters list by tag_ids [33m 517[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mGET /logs[2m > [22mfilters list by user_id [33m 493[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mGET /logs[2m > [22menforces pagination bounds [33m 450[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mPOST /logs[2m > [22mcreates a new log for the authenticated user [33m 441[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mPOST /logs[2m > [22mcreates a new log using tag_names and auto-creates missing tags [33m 497[2mms[22m[39m
[31m   [31m×[31m Contract: Logs routes[2m > [22mPOST /logs[2m > [22mreturns 400 when payload is invalid[39m[33m 414[2mms[22m[39m
[31m     → expected 201 to be 400 // Object.is equality[39m
   [32m✓[39m Contract: Logs routes[2m > [22mPOST /logs[2m > [22mreturns 401 when unauthenticated[32m 292[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mGET /logs/:logId[2m > [22mreturns public log detail for any visitor [33m 408[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mGET /logs/:logId[2m > [22mallows owners to see private logs [33m 443[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mGET /logs/:logId[2m > [22mreturns 403 for private log when not owner [33m 399[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mGET /logs/:logId[2m > [22mreturns 403 for private log when unauthenticated [33m 380[2mms[22m[39m
   [32m✓[39m Contract: Logs routes[2m > [22mGET /logs/:logId[2m > [22mreturns 404 for missing log[32m 270[2mms[22m[39m
   [32m✓[39m Contract: Logs routes[2m > [22mGET /logs/:logId[2m > [22mreturns 400 when log id format is invalid[32m 261[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mPUT /logs/:logId[2m > [22mupdates log content and visibility for owner [33m 480[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mPUT /logs/:logId[2m > [22mreturns 401 when unauthenticated [33m 384[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mPUT /logs/:logId[2m > [22mreturns 403 when requester does not own the log [33m 396[2mms[22m[39m
   [32m✓[39m Contract: Logs routes[2m > [22mPUT /logs/:logId[2m > [22mreturns 404 when log does not exist[32m 287[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mPUT /logs/:logId[2m > [22mreturns 400 when payload is invalid [33m 384[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mDELETE /logs/:logId[2m > [22mdeletes a log owned by the requester [33m 406[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mDELETE /logs/:logId[2m > [22mreturns 401 when unauthenticated [33m 337[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mDELETE /logs/:logId[2m > [22mreturns 403 when user does not own the log [33m 421[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mDELETE /logs/:logId[2m > [22mreturns 404 for missing log [33m 311[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mPOST /logs/:logId/share[2m > [22mshares a public log for the owner [33m 403[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mPOST /logs/:logId/share[2m > [22mreturns 401 when unauthenticated [33m 384[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mPOST /logs/:logId/share[2m > [22mreturns 403 when user is not the owner [33m 366[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mPOST /logs/:logId/share[2m > [22mreturns 400 when log is private [33m 378[2mms[22m[39m
   [32m✓[39m Contract: Logs routes[2m > [22mPOST /logs/:logId/share[2m > [22mreturns 404 when log does not exist[32m 284[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Logs routes[2m > [22mPOST /logs/:logId/share[2m > [22msurfaces upstream Twitter failures as 502 [33m 376[2mms[22m[39m
[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mGET /tags[2m > [22m[2mreturns paginated list of tags with default limit
[22m[39m[2025-09-28T05:52:34.602Z] GET http://localhost/tags - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mGET /tags[2m > [22m[2mreturns paginated list of tags with default limit
[22m[39m[2025-09-28T05:52:34.625Z] GET http://localhost/tags - 200 - 23ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mGET /tags[2m > [22m[2msupports search filter
[22m[39m[2025-09-28T05:52:35.214Z] GET http://localhost/tags?search=titan - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mGET /tags[2m > [22m[2msupports search filter
[22m[39m[2025-09-28T05:52:35.235Z] GET http://localhost/tags?search=titan - 200 - 21ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mGET /tags[2m > [22m[2mrespects pagination parameters
[22m[39m[2025-09-28T05:52:35.789Z] GET http://localhost/tags?limit=1&offset=1 - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mGET /tags[2m > [22m[2mrespects pagination parameters
[22m[39m[2025-09-28T05:52:35.806Z] GET http://localhost/tags?limit=1&offset=1 - 200 - 17ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPOST /tags[2m > [22m[2mcreates a new tag for the authenticated user
[22m[39m[2025-09-28T05:52:36.167Z] POST http://localhost/tags - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPOST /tags[2m > [22m[2mcreates a new tag for the authenticated user
[22m[39m[2025-09-28T05:52:36.195Z] POST http://localhost/tags - 201 - 28ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPOST /tags[2m > [22m[2mreturns 400 when payload is invalid
[22m[39m[2025-09-28T05:52:36.533Z] POST http://localhost/tags - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPOST /tags[2m > [22m[2mreturns 400 when payload is invalid
[22m[39mUnhandled error: HTTPException [Error]: Tag name is required
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:65:11
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:83:7
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5 {
  res: [90mundefined[39m,
  status: [33m400[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPOST /tags[2m > [22m[2mreturns 400 when payload is invalid
[22m[39m[2025-09-28T05:52:36.563Z] POST http://localhost/tags - 400 - 30ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPOST /tags[2m > [22m[2mreturns 401 when request is unauthenticated
[22m[39m[2025-09-28T05:52:36.857Z] POST http://localhost/tags - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPOST /tags[2m > [22m[2mreturns 401 when request is unauthenticated
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:93:14
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPOST /tags[2m > [22m[2mreturns 401 when request is unauthenticated
[22m[39m[2025-09-28T05:52:36.860Z] POST http://localhost/tags - 401 - 3ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mGET /tags/:tagId[2m > [22m[2mreturns tag detail with metadata and associations
[22m[39m[2025-09-28T05:52:37.376Z] GET http://localhost/tags/tag_anime - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mGET /tags/:tagId[2m > [22m[2mreturns tag detail with metadata and associations
[22m[39m[2025-09-28T05:52:37.406Z] GET http://localhost/tags/tag_anime - 200 - 30ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mGET /tags/:tagId[2m > [22m[2mreturns 404 for missing tag
[22m[39m[2025-09-28T05:52:37.730Z] GET http://localhost/tags/non-existent-tag - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mGET /tags/:tagId[2m > [22m[2mreturns 404 for missing tag
[22m[39mUnhandled error: HTTPException [Error]: Tag not found
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:104:11
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m404[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mGET /tags/:tagId[2m > [22m[2mreturns 404 for missing tag
[22m[39m[2025-09-28T05:52:37.738Z] GET http://localhost/tags/non-existent-tag - 404 - 8ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPUT /tags/:tagId[2m > [22m[2mupdates tag fields when requested by owner
[22m[39m[2025-09-28T05:52:38.215Z] PUT http://localhost/tags/tag_anime - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPUT /tags/:tagId[2m > [22m[2mupdates tag fields when requested by owner
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:115:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPUT /tags/:tagId[2m > [22m[2mupdates tag fields when requested by owner
[22m[39m[2025-09-28T05:52:38.216Z] PUT http://localhost/tags/tag_anime - 401 - 1ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPUT /tags/:tagId[2m > [22m[2mreturns 401 when unauthenticated
[22m[39m[2025-09-28T05:52:38.701Z] PUT http://localhost/tags/tag_anime - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPUT /tags/:tagId[2m > [22m[2mreturns 401 when unauthenticated
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:115:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPUT /tags/:tagId[2m > [22m[2mreturns 401 when unauthenticated
[22m[39m[2025-09-28T05:52:38.703Z] PUT http://localhost/tags/tag_anime - 401 - 2ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPUT /tags/:tagId[2m > [22m[2mreturns 403 when user is not the tag owner
[22m[39m[2025-09-28T05:52:39.169Z] PUT http://localhost/tags/tag_anime - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPUT /tags/:tagId[2m > [22m[2mreturns 403 when user is not the tag owner
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:115:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPUT /tags/:tagId[2m > [22m[2mreturns 403 when user is not the tag owner
[22m[39m[2025-09-28T05:52:39.170Z] PUT http://localhost/tags/tag_anime - 401 - 1ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPUT /tags/:tagId[2m > [22m[2mreturns 404 when tag does not exist
[22m[39m[2025-09-28T05:52:39.478Z] PUT http://localhost/tags/unknown-tag - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPUT /tags/:tagId[2m > [22m[2mreturns 404 when tag does not exist
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:115:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mPUT /tags/:tagId[2m > [22m[2mreturns 404 when tag does not exist
[22m[39m[2025-09-28T05:52:39.479Z] PUT http://localhost/tags/unknown-tag - 401 - 1ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mDELETE /tags/:tagId[2m > [22m[2mremoves a tag owned by the requester
[22m[39m[2025-09-28T05:52:39.955Z] DELETE http://localhost/tags/tag_anime - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mDELETE /tags/:tagId[2m > [22m[2mremoves a tag owned by the requester
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:181:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mDELETE /tags/:tagId[2m > [22m[2mremoves a tag owned by the requester
[22m[39m[2025-09-28T05:52:39.956Z] DELETE http://localhost/tags/tag_anime - 401 - 1ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mDELETE /tags/:tagId[2m > [22m[2mreturns 401 when unauthenticated
[22m[39m[2025-09-28T05:52:40.459Z] DELETE http://localhost/tags/tag_anime - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mDELETE /tags/:tagId[2m > [22m[2mreturns 401 when unauthenticated
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:181:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mDELETE /tags/:tagId[2m > [22m[2mreturns 401 when unauthenticated
[22m[39m[2025-09-28T05:52:40.460Z] DELETE http://localhost/tags/tag_anime - 401 - 1ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mDELETE /tags/:tagId[2m > [22m[2mreturns 403 when user is not the owner
[22m[39m[2025-09-28T05:52:41.003Z] DELETE http://localhost/tags/tag_anime - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mDELETE /tags/:tagId[2m > [22m[2mreturns 403 when user is not the owner
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:181:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mDELETE /tags/:tagId[2m > [22m[2mreturns 403 when user is not the owner
[22m[39m[2025-09-28T05:52:41.004Z] DELETE http://localhost/tags/tag_anime - 401 - 1ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mDELETE /tags/:tagId[2m > [22m[2mreturns 404 when tag does not exist
[22m[39m[2025-09-28T05:52:41.296Z] DELETE http://localhost/tags/unknown-tag - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mDELETE /tags/:tagId[2m > [22m[2mreturns 404 when tag does not exist
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:181:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mDELETE /tags/:tagId[2m > [22m[2mreturns 404 when tag does not exist
[22m[39m[2025-09-28T05:52:41.298Z] DELETE http://localhost/tags/unknown-tag - 401 - 2ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mcreates and lists tag associations
[22m[39m[2025-09-28T05:52:41.756Z] POST http://localhost/tags/tag_anime/associations - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mcreates and lists tag associations
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:214:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mcreates and lists tag associations
[22m[39m[2025-09-28T05:52:41.757Z] POST http://localhost/tags/tag_anime/associations - 401 - 1ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 400 when association payload is invalid
[22m[39m[2025-09-28T05:52:42.196Z] POST http://localhost/tags/tag_anime/associations - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 400 when association payload is invalid
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:214:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 400 when association payload is invalid
[22m[39m[2025-09-28T05:52:42.197Z] POST http://localhost/tags/tag_anime/associations - 401 - 1ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 401 when creating association without authentication
[22m[39m[2025-09-28T05:52:42.647Z] POST http://localhost/tags/tag_anime/associations - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 401 when creating association without authentication
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:214:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 401 when creating association without authentication
[22m[39m[2025-09-28T05:52:42.648Z] POST http://localhost/tags/tag_anime/associations - 401 - 1ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 404 when base tag is missing during association creation
[22m[39m[2025-09-28T05:52:42.982Z] POST http://localhost/tags/unknown-tag/associations - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 404 when base tag is missing during association creation
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:214:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 404 when base tag is missing during association creation
[22m[39m[2025-09-28T05:52:42.983Z] POST http://localhost/tags/unknown-tag/associations - 401 - 1ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mremoves an existing association
[22m[39m[2025-09-28T05:52:43.420Z] POST http://localhost/tags/tag_anime/associations - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mremoves an existing association
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:214:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mremoves an existing association
[22m[39m[2025-09-28T05:52:43.420Z] POST http://localhost/tags/tag_anime/associations - 401 - 0ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mremoves an existing association
[22m[39m[2025-09-28T05:52:43.421Z] DELETE http://localhost/tags/tag_anime/associations?associated_tag_id=tag_manga - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mremoves an existing association
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:259:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mremoves an existing association
[22m[39m[2025-09-28T05:52:43.422Z] DELETE http://localhost/tags/tag_anime/associations?associated_tag_id=tag_manga - 401 - 1ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 401 when deleting association without authentication
[22m[39m[2025-09-28T05:52:43.924Z] DELETE http://localhost/tags/tag_anime/associations?associated_tag_id=tag_manga - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 401 when deleting association without authentication
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:259:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 401 when deleting association without authentication
[22m[39m[2025-09-28T05:52:43.926Z] DELETE http://localhost/tags/tag_anime/associations?associated_tag_id=tag_manga - 401 - 2ms

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 404 when deleting association for missing tag
[22m[39m[2025-09-28T05:52:44.204Z] DELETE http://localhost/tags/unknown-tag/associations?associated_tag_id=tag_manga - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 404 when deleting association for missing tag
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:259:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/tags.contract.test.ts[2m > [22m[2mContract: Tags routes[2m > [22m[2mTag associations[2m > [22m[2mreturns 404 when deleting association for missing tag
[22m[39m[2025-09-28T05:52:44.205Z] DELETE http://localhost/tags/unknown-tag/associations?associated_tag_id=tag_manga - 401 - 1ms

 [31m❯[39m tests/contract/tags.contract.test.ts [2m([22m[2m23 tests[22m[2m | [22m[31m11 failed[39m[2m)[22m[33m 10178[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Tags routes[2m > [22mGET /tags[2m > [22mreturns paginated list of tags with default limit [33m 653[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Tags routes[2m > [22mGET /tags[2m > [22msupports search filter [33m 587[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Tags routes[2m > [22mGET /tags[2m > [22mrespects pagination parameters [33m 572[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Tags routes[2m > [22mPOST /tags[2m > [22mcreates a new tag for the authenticated user [33m 390[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Tags routes[2m > [22mPOST /tags[2m > [22mreturns 400 when payload is invalid [33m 349[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Tags routes[2m > [22mPOST /tags[2m > [22mreturns 401 when request is unauthenticated [33m 325[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Tags routes[2m > [22mGET /tags/:tagId[2m > [22mreturns tag detail with metadata and associations [33m 533[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Tags routes[2m > [22mGET /tags/:tagId[2m > [22mreturns 404 for missing tag [33m 319[2mms[22m[39m
[31m   [31m×[31m Contract: Tags routes[2m > [22mPUT /tags/:tagId[2m > [22mupdates tag fields when requested by owner[39m[33m 499[2mms[22m[39m
[31m     → expected 401 to be 200 // Object.is equality[39m
   [33m[2m✓[22m[39m Contract: Tags routes[2m > [22mPUT /tags/:tagId[2m > [22mreturns 401 when unauthenticated [33m 448[2mms[22m[39m
[31m   [31m×[31m Contract: Tags routes[2m > [22mPUT /tags/:tagId[2m > [22mreturns 403 when user is not the tag owner[39m[33m 466[2mms[22m[39m
[31m     → expected 401 to be 403 // Object.is equality[39m
[31m   [31m×[31m Contract: Tags routes[2m > [22mPUT /tags/:tagId[2m > [22mreturns 404 when tag does not exist[39m[33m 329[2mms[22m[39m
[31m     → expected 401 to be 404 // Object.is equality[39m
[31m   [31m×[31m Contract: Tags routes[2m > [22mDELETE /tags/:tagId[2m > [22mremoves a tag owned by the requester[39m[33m 478[2mms[22m[39m
[31m     → expected 401 to be 204 // Object.is equality[39m
   [33m[2m✓[22m[39m Contract: Tags routes[2m > [22mDELETE /tags/:tagId[2m > [22mreturns 401 when unauthenticated [33m 494[2mms[22m[39m
[31m   [31m×[31m Contract: Tags routes[2m > [22mDELETE /tags/:tagId[2m > [22mreturns 403 when user is not the owner[39m[33m 537[2mms[22m[39m
[31m     → expected 401 to be 403 // Object.is equality[39m
[31m   [31m×[31m Contract: Tags routes[2m > [22mDELETE /tags/:tagId[2m > [22mreturns 404 when tag does not exist[39m[32m 297[2mms[22m[39m
[31m     → expected 401 to be 404 // Object.is equality[39m
[31m   [31m×[31m Contract: Tags routes[2m > [22mTag associations[2m > [22mcreates and lists tag associations[39m[33m 447[2mms[22m[39m
[31m     → expected 401 to be 201 // Object.is equality[39m
[31m   [31m×[31m Contract: Tags routes[2m > [22mTag associations[2m > [22mreturns 400 when association payload is invalid[39m[33m 454[2mms[22m[39m
[31m     → expected 401 to be 400 // Object.is equality[39m
   [33m[2m✓[22m[39m Contract: Tags routes[2m > [22mTag associations[2m > [22mreturns 401 when creating association without authentication [33m 443[2mms[22m[39m
[31m   [31m×[31m Contract: Tags routes[2m > [22mTag associations[2m > [22mreturns 404 when base tag is missing during association creation[39m[33m 328[2mms[22m[39m
[31m     → expected 401 to be 404 // Object.is equality[39m
[31m   [31m×[31m Contract: Tags routes[2m > [22mTag associations[2m > [22mremoves an existing association[39m[33m 444[2mms[22m[39m
[31m     → expected 401 to be 204 // Object.is equality[39m
   [33m[2m✓[22m[39m Contract: Tags routes[2m > [22mTag associations[2m > [22mreturns 401 when deleting association without authentication [33m 503[2mms[22m[39m
[31m   [31m×[31m Contract: Tags routes[2m > [22mTag associations[2m > [22mreturns 404 when deleting association for missing tag[39m[32m 280[2mms[22m[39m
[31m     → expected 401 to be 404 // Object.is equality[39m
[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mAuthentication Workflow[2m > [22m[2mshould provide Twitter OAuth authorization URL
[22m[39m[2025-09-28T05:52:45.995Z] GET http://localhost/auth/twitter - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mAuthentication Workflow[2m > [22m[2mshould provide Twitter OAuth authorization URL
[22m[39m[2025-09-28T05:52:46.000Z] GET http://localhost/auth/twitter - 302 - 5ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mAuthentication Workflow[2m > [22m[2mshould handle user logout
[22m[39m[2025-09-28T05:52:46.407Z] POST http://localhost/auth/logout - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mAuthentication Workflow[2m > [22m[2mshould handle user logout
[22m[39mUnhandled error: HTTPException [Error]: No active session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/auth.ts:188:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:11 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mAuthentication Workflow[2m > [22m[2mshould handle user logout
[22m[39m[2025-09-28T05:52:46.416Z] POST http://localhost/auth/logout - 401 - 9ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mAuthentication Workflow[2m > [22m[2mshould protect endpoints requiring authentication
[22m[39m[2025-09-28T05:52:46.843Z] GET http://localhost/users/me - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mAuthentication Workflow[2m > [22m[2mshould protect endpoints requiring authentication
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/users.ts:29:52
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mAuthentication Workflow[2m > [22m[2mshould protect endpoints requiring authentication
[22m[39m[2025-09-28T05:52:46.845Z] GET http://localhost/users/me - 401 - 2ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mAuthentication Workflow[2m > [22m[2mshould allow access to protected endpoints with valid session
[22m[39m[2025-09-28T05:52:47.232Z] GET http://localhost/users/me - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mAuthentication Workflow[2m > [22m[2mshould allow access to protected endpoints with valid session
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/users.ts:29:52
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mAuthentication Workflow[2m > [22m[2mshould allow access to protected endpoints with valid session
[22m[39m[2025-09-28T05:52:47.234Z] GET http://localhost/users/me - 401 - 2ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Management Workflow[2m > [22m[2mshould create and manage tags
[22m[39m[2025-09-28T05:52:47.595Z] POST http://localhost/tags - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Management Workflow[2m > [22m[2mshould create and manage tags
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:93:14
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Management Workflow[2m > [22m[2mshould create and manage tags
[22m[39m[2025-09-28T05:52:47.596Z] POST http://localhost/tags - 401 - 1ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Management Workflow[2m > [22m[2mshould create and manage logs
[22m[39m[2025-09-28T05:52:47.935Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Management Workflow[2m > [22m[2mshould create and manage logs
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:101:14
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Management Workflow[2m > [22m[2mshould create and manage logs
[22m[39m[2025-09-28T05:52:47.937Z] POST http://localhost/logs - 401 - 2ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Management Workflow[2m > [22m[2mshould manage tag associations with logs
[22m[39m[2025-09-28T05:52:48.290Z] POST http://localhost/tags - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Management Workflow[2m > [22m[2mshould manage tag associations with logs
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:93:14
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Management Workflow[2m > [22m[2mshould manage tag associations with logs
[22m[39m[2025-09-28T05:52:48.291Z] POST http://localhost/tags - 401 - 1ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Discovery Workflow[2m > [22m[2mshould discover public content
[22m[39m[2025-09-28T05:52:48.640Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Discovery Workflow[2m > [22m[2mshould discover public content
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:101:14
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Discovery Workflow[2m > [22m[2mshould discover public content
[22m[39m[2025-09-28T05:52:48.641Z] POST http://localhost/logs - 401 - 1ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Discovery Workflow[2m > [22m[2mshould discover public content
[22m[39m[2025-09-28T05:52:48.642Z] GET http://localhost/logs?is_public=true - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Discovery Workflow[2m > [22m[2mshould discover public content
[22m[39m[2025-09-28T05:52:48.662Z] GET http://localhost/logs?is_public=true - 200 - 20ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Discovery Workflow[2m > [22m[2mshould support search functionality
[22m[39m[2025-09-28T05:52:49.023Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Discovery Workflow[2m > [22m[2mshould support search functionality
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:101:14
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Discovery Workflow[2m > [22m[2mshould support search functionality
[22m[39m[2025-09-28T05:52:49.024Z] POST http://localhost/logs - 401 - 1ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Discovery Workflow[2m > [22m[2mshould support search functionality
[22m[39m[2025-09-28T05:52:49.025Z] GET http://localhost/logs?search=Attack - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Discovery Workflow[2m > [22m[2mshould support search functionality
[22m[39m[2025-09-28T05:52:49.046Z] GET http://localhost/logs?search=Attack - 200 - 21ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Discovery Workflow[2m > [22m[2mshould support pagination
[22m[39m[2025-09-28T05:52:49.389Z] GET http://localhost/logs?limit=5&page=1 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mContent Discovery Workflow[2m > [22m[2mshould support pagination
[22m[39m[2025-09-28T05:52:49.412Z] GET http://localhost/logs?limit=5&page=1 - 200 - 23ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mError Handling Workflow[2m > [22m[2mshould handle validation errors gracefully
[22m[39m[2025-09-28T05:52:49.749Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mError Handling Workflow[2m > [22m[2mshould handle validation errors gracefully
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:101:14
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mError Handling Workflow[2m > [22m[2mshould handle validation errors gracefully
[22m[39m[2025-09-28T05:52:49.750Z] POST http://localhost/logs - 401 - 1ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mError Handling Workflow[2m > [22m[2mshould handle not found errors properly
[22m[39m[2025-09-28T05:52:50.061Z] GET http://localhost/logs/non-existent-id - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mError Handling Workflow[2m > [22m[2mshould handle not found errors properly
[22m[39mUnhandled error: HTTPException [Error]: Log not found
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:296:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m404[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mError Handling Workflow[2m > [22m[2mshould handle not found errors properly
[22m[39m[2025-09-28T05:52:50.072Z] GET http://localhost/logs/non-existent-id - 404 - 11ms

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mError Handling Workflow[2m > [22m[2mshould handle authorization errors properly
[22m[39m[2025-09-28T05:52:50.438Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mError Handling Workflow[2m > [22m[2mshould handle authorization errors properly
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:101:14
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/workflows/end-to-end.test.ts[2m > [22m[2mEnd-to-End User Workflows[2m > [22m[2mError Handling Workflow[2m > [22m[2mshould handle authorization errors properly
[22m[39m[2025-09-28T05:52:50.439Z] POST http://localhost/logs - 401 - 1ms

 [31m❯[39m tests/integration/workflows/end-to-end.test.ts [2m([22m[2m13 tests[22m[2m | [22m[31m10 failed[39m[2m)[22m[33m 4869[2mms[22m[39m
[31m   [31m×[31m End-to-End User Workflows[2m > [22mAuthentication Workflow[2m > [22mshould provide Twitter OAuth authorization URL[39m[33m 439[2mms[22m[39m
[31m     → expected 302 to be 200 // Object.is equality[39m
[31m   [31m×[31m End-to-End User Workflows[2m > [22mAuthentication Workflow[2m > [22mshould handle user logout[39m[33m 406[2mms[22m[39m
[31m     → expected 401 to be 200 // Object.is equality[39m
   [33m[2m✓[22m[39m End-to-End User Workflows[2m > [22mAuthentication Workflow[2m > [22mshould protect endpoints requiring authentication [33m 429[2mms[22m[39m
[31m   [31m×[31m End-to-End User Workflows[2m > [22mAuthentication Workflow[2m > [22mshould allow access to protected endpoints with valid session[39m[33m 388[2mms[22m[39m
[31m     → expected 401 to be 200 // Object.is equality[39m
[31m   [31m×[31m End-to-End User Workflows[2m > [22mContent Management Workflow[2m > [22mshould create and manage tags[39m[33m 362[2mms[22m[39m
[31m     → expected 401 to be 201 // Object.is equality[39m
[31m   [31m×[31m End-to-End User Workflows[2m > [22mContent Management Workflow[2m > [22mshould create and manage logs[39m[33m 340[2mms[22m[39m
[31m     → expected 401 to be 201 // Object.is equality[39m
[31m   [31m×[31m End-to-End User Workflows[2m > [22mContent Management Workflow[2m > [22mshould manage tag associations with logs[39m[33m 354[2mms[22m[39m
[31m     → expected 401 to be 201 // Object.is equality[39m
[31m   [31m×[31m End-to-End User Workflows[2m > [22mContent Discovery Workflow[2m > [22mshould discover public content[39m[33m 372[2mms[22m[39m
[31m     → expected { items: [], total: +0, …(3) } to have property "logs"[39m
[31m   [31m×[31m End-to-End User Workflows[2m > [22mContent Discovery Workflow[2m > [22mshould support search functionality[39m[33m 383[2mms[22m[39m
[31m     → expected { items: [], total: +0, …(3) } to have property "logs"[39m
[31m   [31m×[31m End-to-End User Workflows[2m > [22mContent Discovery Workflow[2m > [22mshould support pagination[39m[33m 365[2mms[22m[39m
[31m     → expected { Object (items, total, ...) } to have property "logs"[39m
[31m   [31m×[31m End-to-End User Workflows[2m > [22mError Handling Workflow[2m > [22mshould handle validation errors gracefully[39m[33m 338[2mms[22m[39m
[31m     → expected 401 to be 400 // Object.is equality[39m
   [33m[2m✓[22m[39m End-to-End User Workflows[2m > [22mError Handling Workflow[2m > [22mshould handle not found errors properly [33m 321[2mms[22m[39m
   [33m[2m✓[22m[39m End-to-End User Workflows[2m > [22mError Handling Workflow[2m > [22mshould handle authorization errors properly [33m 367[2mms[22m[39m
[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/twitter[2m > [22m[2mredirects to Twitter OAuth with required parameters
[22m[39m[2025-09-28T05:52:51.866Z] GET http://localhost/auth/twitter - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/twitter[2m > [22m[2mredirects to Twitter OAuth with required parameters
[22m[39m[2025-09-28T05:52:51.871Z] GET http://localhost/auth/twitter - 302 - 5ms

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/twitter[2m > [22m[2mreturns 400 for malformed query parameters
[22m[39m[2025-09-28T05:52:52.224Z] GET http://localhost/auth/twitter?redirect_uri=not-allowed - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/twitter[2m > [22m[2mreturns 400 for malformed query parameters
[22m[39mUnhandled error: HTTPException [Error]: invalid redirect uri requested
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/auth.ts:87:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:11 {
  res: [90mundefined[39m,
  status: [33m400[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/twitter[2m > [22m[2mreturns 400 for malformed query parameters
[22m[39m[2025-09-28T05:52:52.232Z] GET http://localhost/auth/twitter?redirect_uri=not-allowed - 400 - 8ms

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/callback[2m > [22m[2mestablishes a session and redirects on success
[22m[39m[2025-09-28T05:52:52.570Z] GET http://localhost/auth/callback?code=test-code&state=test-state - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/callback[2m > [22m[2mestablishes a session and redirects on success
[22m[39m[2025-09-28T05:52:52.607Z] GET http://localhost/auth/callback?code=test-code&state=test-state - 302 - 37ms

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/callback[2m > [22m[2mreturns 401 when the oauth code is missing
[22m[39m[2025-09-28T05:52:52.940Z] GET http://localhost/auth/callback?state=test-state - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/callback[2m > [22m[2mreturns 401 when the oauth code is missing
[22m[39mUnhandled error: HTTPException [Error]: Missing authorization code
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/auth.ts:124:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:11 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/callback[2m > [22m[2mreturns 401 when the oauth code is missing
[22m[39m[2025-09-28T05:52:52.942Z] GET http://localhost/auth/callback?state=test-state - 401 - 2ms

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/callback[2m > [22m[2mreturns 401 when the oauth state is missing
[22m[39m[2025-09-28T05:52:53.274Z] GET http://localhost/auth/callback?code=test-code - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/callback[2m > [22m[2mreturns 401 when the oauth state is missing
[22m[39mUnhandled error: HTTPException [Error]: Missing state parameter
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/auth.ts:128:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:11 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/callback[2m > [22m[2mreturns 401 when the oauth state is missing
[22m[39m[2025-09-28T05:52:53.276Z] GET http://localhost/auth/callback?code=test-code - 401 - 2ms

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/callback[2m > [22m[2mreturns 401 when the oauth exchange fails
[22m[39m[2025-09-28T05:52:53.590Z] GET http://localhost/auth/callback?code=invalid-code&state=test-state - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/callback[2m > [22m[2mreturns 401 when the oauth exchange fails
[22m[39mUnhandled error: HTTPException [Error]: Authentication failed
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/auth.ts:149:15
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:11 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mGET /auth/callback[2m > [22m[2mreturns 401 when the oauth exchange fails
[22m[39m[2025-09-28T05:52:53.591Z] GET http://localhost/auth/callback?code=invalid-code&state=test-state - 401 - 1ms

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mPOST /auth/logout[2m > [22m[2mrevokes the active session cookie and acknowledges logout
[22m[39m[2025-09-28T05:52:53.919Z] POST http://localhost/auth/logout - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mPOST /auth/logout[2m > [22m[2mrevokes the active session cookie and acknowledges logout
[22m[39m[2025-09-28T05:52:53.927Z] POST http://localhost/auth/logout - 200 - 8ms

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mPOST /auth/logout[2m > [22m[2mreturns 401 when no active session is present
[22m[39m[2025-09-28T05:52:54.231Z] POST http://localhost/auth/logout - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mPOST /auth/logout[2m > [22m[2mreturns 401 when no active session is present
[22m[39mUnhandled error: HTTPException [Error]: No active session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/auth.ts:188:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:11 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/auth.contract.test.ts[2m > [22m[2mContract: Auth routes[2m > [22m[2mPOST /auth/logout[2m > [22m[2mreturns 401 when no active session is present
[22m[39m[2025-09-28T05:52:54.232Z] POST http://localhost/auth/logout - 401 - 1ms

 [31m❯[39m tests/contract/auth.contract.test.ts [2m([22m[2m8 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 2706[2mms[22m[39m
[31m   [31m×[31m Contract: Auth routes[2m > [22mGET /auth/twitter[2m > [22mredirects to Twitter OAuth with required parameters[39m[33m 383[2mms[22m[39m
[31m     → expected 'test_client_id' to be 'test-twitter-client-id' // Object.is equality[39m
   [33m[2m✓[22m[39m Contract: Auth routes[2m > [22mGET /auth/twitter[2m > [22mreturns 400 for malformed query parameters [33m 347[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Auth routes[2m > [22mGET /auth/callback[2m > [22mestablishes a session and redirects on success [33m 370[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Auth routes[2m > [22mGET /auth/callback[2m > [22mreturns 401 when the oauth code is missing [33m 333[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Auth routes[2m > [22mGET /auth/callback[2m > [22mreturns 401 when the oauth state is missing [33m 320[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Auth routes[2m > [22mGET /auth/callback[2m > [22mreturns 401 when the oauth exchange fails [33m 335[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Auth routes[2m > [22mPOST /auth/logout[2m > [22mrevokes the active session cookie and acknowledges logout [33m 316[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Auth routes[2m > [22mPOST /auth/logout[2m > [22mreturns 401 when no active session is present [33m 301[2mms[22m[39m
[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould extract hashtags and create tag associations when creating a tag
[22m[39m[2025-09-28T05:52:55.851Z] POST http://localhost/tags - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould extract hashtags and create tag associations when creating a tag
[22m[39m[2025-09-28T05:52:55.984Z] POST http://localhost/tags - 201 - 133ms

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould extract hashtags and create tag associations when creating a tag
[22m[39m[2025-09-28T05:52:55.987Z] GET http://localhost/tags/tag_f4229418-f660-4269-aece-637aef246748 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould extract hashtags and create tag associations when creating a tag
[22m[39m[2025-09-28T05:52:56.023Z] GET http://localhost/tags/tag_f4229418-f660-4269-aece-637aef246748 - 200 - 36ms

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould link to existing tags when hashtags match existing tag names
[22m[39m[2025-09-28T05:52:56.421Z] POST http://localhost/tags - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould link to existing tags when hashtags match existing tag names
[22m[39m[2025-09-28T05:52:56.449Z] POST http://localhost/tags - 201 - 28ms

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould link to existing tags when hashtags match existing tag names
[22m[39m[2025-09-28T05:52:56.450Z] POST http://localhost/tags - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould link to existing tags when hashtags match existing tag names
[22m[39m[2025-09-28T05:52:56.568Z] POST http://localhost/tags - 201 - 118ms

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould link to existing tags when hashtags match existing tag names
[22m[39m[2025-09-28T05:52:56.570Z] GET http://localhost/tags/tag_fb7ebe69-19c6-46cf-8db2-6e784e9a4187 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould link to existing tags when hashtags match existing tag names
[22m[39m[2025-09-28T05:52:56.606Z] GET http://localhost/tags/tag_fb7ebe69-19c6-46cf-8db2-6e784e9a4187 - 200 - 36ms

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould process hashtags when updating a tag
[22m[39m[2025-09-28T05:52:57.001Z] POST http://localhost/tags - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould process hashtags when updating a tag
[22m[39m[2025-09-28T05:52:57.035Z] POST http://localhost/tags - 201 - 34ms

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould process hashtags when updating a tag
[22m[39m[2025-09-28T05:52:57.036Z] PUT http://localhost/tags/tag_9448bf20-1274-472c-aa6d-b3b8815a8c76 - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould process hashtags when updating a tag
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:115:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould process hashtags when updating a tag
[22m[39m[2025-09-28T05:52:57.046Z] PUT http://localhost/tags/tag_9448bf20-1274-472c-aa6d-b3b8815a8c76 - 401 - 10ms

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould handle Japanese characters in hashtags
[22m[39m[2025-09-28T05:52:57.441Z] POST http://localhost/tags - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould handle Japanese characters in hashtags
[22m[39m[2025-09-28T05:52:57.560Z] POST http://localhost/tags - 201 - 119ms

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould handle Japanese characters in hashtags
[22m[39m[2025-09-28T05:52:57.561Z] GET http://localhost/tags/tag_2ae67358-1d8b-4adc-9d29-e06c34a78417 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould handle Japanese characters in hashtags
[22m[39m[2025-09-28T05:52:57.591Z] GET http://localhost/tags/tag_2ae67358-1d8b-4adc-9d29-e06c34a78417 - 200 - 30ms

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould not create self-associations
[22m[39m[2025-09-28T05:52:57.939Z] POST http://localhost/tags - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould not create self-associations
[22m[39m[2025-09-28T05:52:57.977Z] POST http://localhost/tags - 201 - 38ms

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould not create self-associations
[22m[39m[2025-09-28T05:52:57.978Z] GET http://localhost/tags/tag_509eba7c-29e1-49c5-9c38-5453325c75fb - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould not create self-associations
[22m[39m[2025-09-28T05:52:58.008Z] GET http://localhost/tags/tag_509eba7c-29e1-49c5-9c38-5453325c75fb - 200 - 30ms

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould support both #{tagName} and #tagName hashtag formats
[22m[39m[2025-09-28T05:52:58.388Z] POST http://localhost/tags - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould support both #{tagName} and #tagName hashtag formats
[22m[39m[2025-09-28T05:52:58.582Z] POST http://localhost/tags - 201 - 194ms

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould support both #{tagName} and #tagName hashtag formats
[22m[39m[2025-09-28T05:52:58.583Z] GET http://localhost/tags/tag_aa984d01-611b-43ba-a83e-da0fde881cb2 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/hashtag-processing.test.ts[2m > [22m[2mHashtag Processing Integration[2m > [22m[2mshould support both #{tagName} and #tagName hashtag formats
[22m[39m[2025-09-28T05:52:58.612Z] GET http://localhost/tags/tag_aa984d01-611b-43ba-a83e-da0fde881cb2 - 200 - 29ms

 [31m❯[39m tests/integration/hashtag-processing.test.ts [2m([22m[2m6 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 3158[2mms[22m[39m
   [33m[2m✓[22m[39m Hashtag Processing Integration[2m > [22mshould extract hashtags and create tag associations when creating a tag [33m 600[2mms[22m[39m
   [33m[2m✓[22m[39m Hashtag Processing Integration[2m > [22mshould link to existing tags when hashtags match existing tag names [33m 577[2mms[22m[39m
[31m   [31m×[31m Hashtag Processing Integration[2m > [22mshould process hashtags when updating a tag[39m[33m 433[2mms[22m[39m
[31m     → expected 401 to be 200 // Object.is equality[39m
   [33m[2m✓[22m[39m Hashtag Processing Integration[2m > [22mshould handle Japanese characters in hashtags [33m 528[2mms[22m[39m
   [33m[2m✓[22m[39m Hashtag Processing Integration[2m > [22mshould not create self-associations [33m 427[2mms[22m[39m
[31m   [31m×[31m Hashtag Processing Integration[2m > [22mshould support both #{tagName} and #tagName hashtag formats[39m[33m 591[2mms[22m[39m
[31m     → expected [ { …(7) }, { …(7) }, { …(7) }, …(1) ] to have a length of 3 but got 4[39m
[90mstdout[2m | tests/integration/log_share.flow.test.ts[2m > [22m[2mIntegration: Log share flow[2m > [22m[2mallows an authenticated author to create, tag, and share a log
[22m[39m[2025-09-28T05:53:00.199Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log_share.flow.test.ts[2m > [22m[2mIntegration: Log share flow[2m > [22m[2mallows an authenticated author to create, tag, and share a log
[22m[39m[2025-09-28T05:53:00.290Z] POST http://localhost/logs - 201 - 91ms

[90mstdout[2m | tests/integration/log_share.flow.test.ts[2m > [22m[2mIntegration: Log share flow[2m > [22m[2mallows an authenticated author to create, tag, and share a log
[22m[39m[2025-09-28T05:53:00.295Z] GET http://localhost/logs/log_1759038780244 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log_share.flow.test.ts[2m > [22m[2mIntegration: Log share flow[2m > [22m[2mallows an authenticated author to create, tag, and share a log
[22m[39m[2025-09-28T05:53:00.338Z] GET http://localhost/logs/log_1759038780244 - 200 - 43ms

[90mstdout[2m | tests/integration/log_share.flow.test.ts[2m > [22m[2mIntegration: Log share flow[2m > [22m[2mallows an authenticated author to create, tag, and share a log
[22m[39m[2025-09-28T05:53:00.340Z] GET http://localhost/logs?user_id=user_share_flow_author&tag_ids=tag_anime - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log_share.flow.test.ts[2m > [22m[2mIntegration: Log share flow[2m > [22m[2mallows an authenticated author to create, tag, and share a log
[22m[39m[2025-09-28T05:53:00.368Z] GET http://localhost/logs?user_id=user_share_flow_author&tag_ids=tag_anime - 200 - 28ms

[90mstdout[2m | tests/integration/log_share.flow.test.ts[2m > [22m[2mIntegration: Log share flow[2m > [22m[2mallows an authenticated author to create, tag, and share a log
[22m[39m[2025-09-28T05:53:00.369Z] POST http://localhost/logs/log_1759038780244/share - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log_share.flow.test.ts[2m > [22m[2mIntegration: Log share flow[2m > [22m[2mallows an authenticated author to create, tag, and share a log
[22m[39mTwitter Share (STUB): {
  timestamp: [32m'2025-09-28T05:53:00.408Z'[39m,
  logTitle: [32m'Integration share flow'[39m,
  logContent: [32m'# Sharing time\nIntegration flow expectations'[39m,
  shareUrl: [32m'http://localhost/logs/log_1759038780244'[39m,
  accessToken: [32m'mock_acces...'[39m
}

[90mstdout[2m | tests/integration/log_share.flow.test.ts[2m > [22m[2mIntegration: Log share flow[2m > [22m[2mallows an authenticated author to create, tag, and share a log
[22m[39m[2025-09-28T05:53:00.409Z] POST http://localhost/logs/log_1759038780244/share - 200 - 40ms

 [32m✓[39m tests/integration/log_share.flow.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 652[2mms[22m[39m
   [33m[2m✓[22m[39m Integration: Log share flow[2m > [22mallows an authenticated author to create, tag, and share a log [33m 650[2mms[22m[39m
[90mstdout[2m | tests/contract/health.test.ts[2m > [22m[2mContract Test: GET /health[2m > [22m[2mshould return 200 status with healthy response
[22m[39m[2025-09-28T05:53:00.864Z] GET http://localhost/health - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/health.test.ts[2m > [22m[2mContract Test: GET /health[2m > [22m[2mshould return 200 status with healthy response
[22m[39m[2025-09-28T05:53:00.867Z] GET http://localhost/health - 200 - 4ms

[90mstdout[2m | tests/contract/health.test.ts[2m > [22m[2mContract Test: GET /health[2m > [22m[2mshould have correct content-type header
[22m[39m[2025-09-28T05:53:00.883Z] GET http://localhost/health - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/health.test.ts[2m > [22m[2mContract Test: GET /health[2m > [22m[2mshould have correct content-type header
[22m[39m[2025-09-28T05:53:00.883Z] GET http://localhost/health - 200 - 0ms

[90mstdout[2m | tests/contract/health.test.ts[2m > [22m[2mContract Test: GET /health[2m > [22m[2mshould respond quickly (< 100ms)
[22m[39m[2025-09-28T05:53:00.884Z] GET http://localhost/health - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/health.test.ts[2m > [22m[2mContract Test: GET /health[2m > [22m[2mshould respond quickly (< 100ms)
[22m[39m[2025-09-28T05:53:00.885Z] GET http://localhost/health - 200 - 1ms

 [31m❯[39m tests/contract/health.test.ts [2m([22m[2m3 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 91[2mms[22m[39m
[31m   [31m×[31m Contract Test: GET /health[2m > [22mshould return 200 status with healthy response[39m[32m 44[2mms[22m[39m
[31m     → expected { status: 'healthy', …(4) } to match object { status: 'healthy', …(2) }
(2 matching properties omitted from actual)[39m
   [32m✓[39m Contract Test: GET /health[2m > [22mshould have correct content-type header[32m 2[2mms[22m[39m
   [32m✓[39m Contract Test: GET /health[2m > [22mshould respond quickly (< 100ms)[32m 1[2mms[22m[39m
[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle malformed request bodies gracefully
[22m[39m[2025-09-28T05:53:02.052Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle malformed request bodies gracefully
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle malformed request bodies gracefully
[22m[39m[2025-09-28T05:53:02.074Z] POST http://localhost/logs - 401 - 22ms

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle database connection failures
[22m[39m[2025-09-28T05:53:02.081Z] GET http://localhost/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle database connection failures
[22m[39m[2025-09-28T05:53:02.122Z] GET http://localhost/logs - 200 - 41ms

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle Twitter API failures during OAuth
[22m[39m[2025-09-28T05:53:02.123Z] GET http://localhost/auth/twitter - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle Twitter API failures during OAuth
[22m[39m[2025-09-28T05:53:02.127Z] GET http://localhost/auth/twitter - 302 - 4ms

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle session expiration gracefully
[22m[39m[2025-09-28T05:53:02.128Z] GET http://localhost/users/me - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle session expiration gracefully
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle session expiration gracefully
[22m[39m[2025-09-28T05:53:02.138Z] GET http://localhost/users/me - 401 - 10ms

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle concurrent log creation conflicts
[22m[39m[2025-09-28T05:53:02.141Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.148Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.156Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle concurrent log creation conflicts
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle concurrent log creation conflicts
[22m[39m[2025-09-28T05:53:02.168Z] POST http://localhost/logs - 401 - 27ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle concurrent log creation conflicts
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle concurrent log creation conflicts
[22m[39m[2025-09-28T05:53:02.171Z] POST http://localhost/logs - 401 - 23ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle concurrent log creation conflicts
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle concurrent log creation conflicts
[22m[39m[2025-09-28T05:53:02.173Z] POST http://localhost/logs - 401 - 17ms

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle extremely large request payloads
[22m[39m[2025-09-28T05:53:02.181Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle extremely large request payloads
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle extremely large request payloads
[22m[39m[2025-09-28T05:53:02.191Z] POST http://localhost/logs - 401 - 10ms

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle invalid tag associations
[22m[39m[2025-09-28T05:53:02.193Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle invalid tag associations
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle invalid tag associations
[22m[39m[2025-09-28T05:53:02.203Z] POST http://localhost/logs - 401 - 10ms

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:02.211Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.220Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.227Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.236Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.244Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.251Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.259Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.266Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.274Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.281Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.288Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.296Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.303Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.310Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.318Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.327Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.335Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.343Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.353Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.360Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.369Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.377Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.384Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.391Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.399Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.410Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.418Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.425Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.433Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.441Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.447Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.454Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.462Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.471Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.478Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.485Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.502Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.511Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.518Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.525Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.531Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.538Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.545Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.552Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.560Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.568Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.576Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.583Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.592Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.599Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.605Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.612Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.619Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.626Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.633Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.643Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.650Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.657Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.663Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.672Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.679Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.686Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.695Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.703Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.711Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.719Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.727Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.735Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.742Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.749Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.759Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.769Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.779Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.786Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.794Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.806Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.813Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.823Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.831Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.838Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.846Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.854Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.860Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.867Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.874Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.882Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.890Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.898Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.908Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.916Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.923Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.930Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.930Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.930Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.930Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.931Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.931Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.931Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.931Z] POST http://localhost/logs - IP: unknown - UA: unknown
[2025-09-28T05:53:02.931Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:02.937Z] POST http://localhost/logs - 429 - 7ms
[2025-09-28T05:53:02.937Z] POST http://localhost/logs - 429 - 7ms
[2025-09-28T05:53:02.937Z] POST http://localhost/logs - 429 - 7ms
[2025-09-28T05:53:02.937Z] POST http://localhost/logs - 429 - 7ms
[2025-09-28T05:53:02.937Z] POST http://localhost/logs - 429 - 6ms
[2025-09-28T05:53:02.937Z] POST http://localhost/logs - 429 - 6ms
[2025-09-28T05:53:02.937Z] POST http://localhost/logs - 429 - 6ms
[2025-09-28T05:53:02.937Z] POST http://localhost/logs - 429 - 6ms
[2025-09-28T05:53:02.937Z] POST http://localhost/logs - 429 - 6ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.002Z] POST http://localhost/logs - 401 - 791ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.004Z] POST http://localhost/logs - 401 - 784ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.005Z] POST http://localhost/logs - 401 - 778ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.034Z] POST http://localhost/logs - 401 - 798ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.037Z] POST http://localhost/logs - 401 - 793ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.039Z] POST http://localhost/logs - 401 - 788ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.042Z] POST http://localhost/logs - 401 - 783ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.043Z] POST http://localhost/logs - 401 - 777ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.045Z] POST http://localhost/logs - 401 - 771ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.047Z] POST http://localhost/logs - 401 - 766ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.051Z] POST http://localhost/logs - 401 - 763ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.054Z] POST http://localhost/logs - 401 - 758ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.060Z] POST http://localhost/logs - 401 - 757ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.063Z] POST http://localhost/logs - 401 - 753ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.068Z] POST http://localhost/logs - 401 - 750ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.072Z] POST http://localhost/logs - 401 - 745ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.075Z] POST http://localhost/logs - 401 - 740ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.077Z] POST http://localhost/logs - 401 - 734ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.078Z] POST http://localhost/logs - 401 - 725ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.080Z] POST http://localhost/logs - 401 - 720ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.082Z] POST http://localhost/logs - 401 - 713ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.083Z] POST http://localhost/logs - 401 - 706ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.087Z] POST http://localhost/logs - 401 - 703ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.089Z] POST http://localhost/logs - 401 - 698ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.090Z] POST http://localhost/logs - 401 - 691ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.092Z] POST http://localhost/logs - 401 - 682ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.095Z] POST http://localhost/logs - 401 - 677ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.097Z] POST http://localhost/logs - 401 - 672ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.099Z] POST http://localhost/logs - 401 - 666ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.101Z] POST http://localhost/logs - 401 - 660ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.103Z] POST http://localhost/logs - 401 - 656ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.105Z] POST http://localhost/logs - 401 - 651ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.107Z] POST http://localhost/logs - 401 - 645ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.117Z] POST http://localhost/logs - 401 - 646ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.119Z] POST http://localhost/logs - 401 - 641ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.120Z] POST http://localhost/logs - 401 - 635ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.122Z] POST http://localhost/logs - 401 - 620ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.124Z] POST http://localhost/logs - 401 - 613ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.125Z] POST http://localhost/logs - 401 - 607ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.126Z] POST http://localhost/logs - 401 - 601ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.127Z] POST http://localhost/logs - 401 - 596ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.129Z] POST http://localhost/logs - 401 - 591ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.130Z] POST http://localhost/logs - 401 - 585ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.132Z] POST http://localhost/logs - 401 - 580ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.133Z] POST http://localhost/logs - 401 - 573ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.135Z] POST http://localhost/logs - 401 - 567ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.136Z] POST http://localhost/logs - 401 - 560ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.137Z] POST http://localhost/logs - 401 - 554ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.138Z] POST http://localhost/logs - 401 - 546ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.139Z] POST http://localhost/logs - 401 - 540ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.141Z] POST http://localhost/logs - 401 - 536ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.142Z] POST http://localhost/logs - 401 - 530ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.143Z] POST http://localhost/logs - 401 - 524ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.145Z] POST http://localhost/logs - 401 - 519ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.146Z] POST http://localhost/logs - 401 - 513ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.147Z] POST http://localhost/logs - 401 - 504ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.149Z] POST http://localhost/logs - 401 - 499ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.150Z] POST http://localhost/logs - 401 - 493ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.152Z] POST http://localhost/logs - 401 - 489ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.154Z] POST http://localhost/logs - 401 - 482ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.156Z] POST http://localhost/logs - 401 - 477ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.157Z] POST http://localhost/logs - 401 - 471ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.158Z] POST http://localhost/logs - 401 - 463ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.159Z] POST http://localhost/logs - 401 - 456ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.160Z] POST http://localhost/logs - 401 - 449ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.161Z] POST http://localhost/logs - 401 - 442ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.162Z] POST http://localhost/logs - 401 - 435ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.163Z] POST http://localhost/logs - 401 - 428ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.164Z] POST http://localhost/logs - 401 - 422ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.165Z] POST http://localhost/logs - 401 - 416ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.166Z] POST http://localhost/logs - 401 - 407ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.168Z] POST http://localhost/logs - 401 - 399ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.169Z] POST http://localhost/logs - 401 - 390ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.170Z] POST http://localhost/logs - 401 - 384ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.171Z] POST http://localhost/logs - 401 - 377ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.173Z] POST http://localhost/logs - 401 - 367ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.174Z] POST http://localhost/logs - 401 - 361ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.175Z] POST http://localhost/logs - 401 - 352ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.177Z] POST http://localhost/logs - 401 - 346ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.178Z] POST http://localhost/logs - 401 - 340ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.179Z] POST http://localhost/logs - 401 - 333ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.180Z] POST http://localhost/logs - 401 - 326ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.182Z] POST http://localhost/logs - 401 - 322ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.183Z] POST http://localhost/logs - 401 - 316ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.184Z] POST http://localhost/logs - 401 - 310ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.185Z] POST http://localhost/logs - 401 - 303ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.186Z] POST http://localhost/logs - 401 - 296ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.187Z] POST http://localhost/logs - 401 - 289ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.195Z] POST http://localhost/logs - 401 - 287ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.196Z] POST http://localhost/logs - 401 - 280ms

[90mstderr[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/error-handling.test.ts[2m > [22m[2mIntegration: Error Handling[2m > [22m[2mshould handle rate limiting
[22m[39m[2025-09-28T05:53:03.197Z] POST http://localhost/logs - 401 - 274ms

 [31m❯[39m tests/integration/error-handling.test.ts [2m([22m[2m8 tests[22m[2m | [22m[31m6 failed[39m[2m)[22m[33m 1156[2mms[22m[39m
[31m   [31m×[31m Integration: Error Handling[2m > [22mshould handle malformed request bodies gracefully[39m[32m 37[2mms[22m[39m
[31m     → expected 401 to be 400 // Object.is equality[39m
[31m   [31m×[31m Integration: Error Handling[2m > [22mshould handle database connection failures[39m[32m 42[2mms[22m[39m
[31m     → expected 200 to be 503 // Object.is equality[39m
[31m   [31m×[31m Integration: Error Handling[2m > [22mshould handle Twitter API failures during OAuth[39m[32m 5[2mms[22m[39m
[31m     → expected 302 to be 502 // Object.is equality[39m
   [32m✓[39m Integration: Error Handling[2m > [22mshould handle session expiration gracefully[32m 12[2mms[22m[39m
[31m   [31m×[31m Integration: Error Handling[2m > [22mshould handle concurrent log creation conflicts[39m[32m 36[2mms[22m[39m
[31m     → expected [ 201, 409, 429 ] to include 401[39m
[31m   [31m×[31m Integration: Error Handling[2m > [22mshould handle extremely large request payloads[39m[32m 16[2mms[22m[39m
[31m     → expected [ 413, 400 ] to include 401[39m
[31m   [31m×[31m Integration: Error Handling[2m > [22mshould handle invalid tag associations[39m[32m 11[2mms[22m[39m
[31m     → expected 401 to be 400 // Object.is equality[39m
   [33m[2m✓[22m[39m Integration: Error Handling[2m > [22mshould handle rate limiting [33m 994[2mms[22m[39m
 [31m❯[39m tests/unit/TwitterService.test.ts [2m([22m[2m12 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 30[2mms[22m[39m
[31m   [31m×[31m TwitterService[2m > [22mgetAuthUrl[2m > [22mshould generate a valid Twitter OAuth URL with state[39m[32m 17[2mms[22m[39m
[31m     → expected 'https://x.com/i/oauth2/authorize?resp…' to contain 'https://twitter.com/i/oauth2/authorize'[39m
   [32m✓[39m TwitterService[2m > [22mgetAuthUrl[2m > [22mshould generate different states for different calls[32m 2[2mms[22m[39m
   [32m✓[39m TwitterService[2m > [22mexchangeCodeForTokens[2m > [22mshould successfully exchange authorization code for tokens[32m 3[2mms[22m[39m
   [32m✓[39m TwitterService[2m > [22mexchangeCodeForTokens[2m > [22mshould throw error for invalid state[32m 1[2mms[22m[39m
   [32m✓[39m TwitterService[2m > [22mexchangeCodeForTokens[2m > [22mshould throw error when token exchange fails[32m 1[2mms[22m[39m
   [32m✓[39m TwitterService[2m > [22mgetUserProfile[2m > [22mshould successfully fetch user profile[32m 1[2mms[22m[39m
   [32m✓[39m TwitterService[2m > [22mgetUserProfile[2m > [22mshould throw error when user profile fetch fails[32m 0[2mms[22m[39m
   [32m✓[39m TwitterService[2m > [22mgetUserProfile[2m > [22mshould handle missing user data in response[32m 0[2mms[22m[39m
   [32m✓[39m TwitterService[2m > [22mrefreshAccessToken[2m > [22mshould successfully refresh access token[32m 1[2mms[22m[39m
   [32m✓[39m TwitterService[2m > [22mrefreshAccessToken[2m > [22mshould throw error when token refresh fails[32m 0[2mms[22m[39m
   [32m✓[39m TwitterService[2m > [22merror handling[2m > [22mshould handle malformed JSON responses[32m 0[2mms[22m[39m
   [32m✓[39m TwitterService[2m > [22merror handling[2m > [22mshould handle fetch network failures[32m 1[2mms[22m[39m
[90mstdout[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould create and associate new tags during log creation
[22m[39m[2025-09-28T05:53:04.662Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould create and associate new tags during log creation
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould create and associate new tags during log creation
[22m[39m[2025-09-28T05:53:04.688Z] POST http://localhost/logs - 401 - 26ms

[90mstdout[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould handle tag hierarchies and associations
[22m[39m[2025-09-28T05:53:04.696Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould handle tag hierarchies and associations
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould handle tag hierarchies and associations
[22m[39m[2025-09-28T05:53:04.720Z] POST http://localhost/logs - 401 - 24ms

[90mstdout[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould prevent duplicate tag creation
[22m[39m[2025-09-28T05:53:04.722Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould prevent duplicate tag creation
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould prevent duplicate tag creation
[22m[39m[2025-09-28T05:53:04.733Z] POST http://localhost/logs - 401 - 11ms

[90mstdout[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould prevent duplicate tag creation
[22m[39m[2025-09-28T05:53:04.734Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould prevent duplicate tag creation
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould prevent duplicate tag creation
[22m[39m[2025-09-28T05:53:04.743Z] POST http://localhost/logs - 401 - 9ms

[90mstdout[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould handle tag renaming and merging
[22m[39m[2025-09-28T05:53:04.745Z] PUT http://localhost/tags/123 - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould handle tag renaming and merging
[22m[39mUnhandled error: HTTPException [Error]: Not authenticated
    at getAuthUser [90m(/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:132:11[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/tags.ts:115:16
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/tag-management.test.ts[2m > [22m[2mIntegration: Tag Management[2m > [22m[2mshould handle tag renaming and merging
[22m[39m[2025-09-28T05:53:04.747Z] PUT http://localhost/tags/123 - 401 - 2ms

 [31m❯[39m tests/integration/tag-management.test.ts [2m([22m[2m4 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[32m 96[2mms[22m[39m
[31m   [31m×[31m Integration: Tag Management[2m > [22mshould create and associate new tags during log creation[39m[32m 42[2mms[22m[39m
[31m     → expected 401 to be 201 // Object.is equality[39m
[31m   [31m×[31m Integration: Tag Management[2m > [22mshould handle tag hierarchies and associations[39m[32m 26[2mms[22m[39m
[31m     → expected 401 to be 201 // Object.is equality[39m
[31m   [31m×[31m Integration: Tag Management[2m > [22mshould prevent duplicate tag creation[39m[32m 23[2mms[22m[39m
[31m     → expected 401 to be 201 // Object.is equality[39m
[31m   [31m×[31m Integration: Tag Management[2m > [22mshould handle tag renaming and merging[39m[32m 4[2mms[22m[39m
[31m     → expected 401 to be 200 // Object.is equality[39m
[90mstdout[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould track episode progress across anime series
[22m[39m[2025-09-28T05:53:05.923Z] GET http://localhost/auth/twitter - IP: unknown - UA: Mozilla/5.0 (Mobile)

[90mstdout[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould track episode progress across anime series
[22m[39m[2025-09-28T05:53:05.928Z] GET http://localhost/auth/twitter - 302 - 5ms

[90mstdout[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould track episode progress across anime series
[22m[39m[2025-09-28T05:53:05.931Z] GET http://localhost/auth/callback?code=test_code&state=test_state - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould track episode progress across anime series
[22m[39m[2025-09-28T05:53:05.979Z] GET http://localhost/auth/callback?code=test_code&state=test_state - 302 - 49ms

[90mstdout[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould track episode progress across anime series
[22m[39m[2025-09-28T05:53:05.980Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould track episode progress across anime series
[22m[39mUnhandled error: HTTPException [Error]: content_md is required and must be a string
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:237:11
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:83:7
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m400[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould track episode progress across anime series
[22m[39m[2025-09-28T05:53:06.024Z] POST http://localhost/logs - 400 - 44ms

[90mstdout[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould handle episode numbering and season tracking
[22m[39m[2025-09-28T05:53:06.030Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould handle episode numbering and season tracking
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould handle episode numbering and season tracking
[22m[39m[2025-09-28T05:53:06.045Z] POST http://localhost/logs - 401 - 15ms

[90mstdout[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould handle episode numbering and season tracking
[22m[39m[2025-09-28T05:53:06.046Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould handle episode numbering and season tracking
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould handle episode numbering and season tracking
[22m[39m[2025-09-28T05:53:06.058Z] POST http://localhost/logs - 401 - 12ms

[90mstdout[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould handle episode numbering and season tracking
[22m[39m[2025-09-28T05:53:06.058Z] GET http://localhost/logs?user_id=1&tag_ids=2 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/episode-logging.test.ts[2m > [22m[2mIntegration: Episode-Level Review Tracking[2m > [22m[2mshould handle episode numbering and season tracking
[22m[39m[2025-09-28T05:53:06.077Z] GET http://localhost/logs?user_id=1&tag_ids=2 - 200 - 19ms

 [31m❯[39m tests/integration/episode-logging.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 165[2mms[22m[39m
[31m   [31m×[31m Integration: Episode-Level Review Tracking[2m > [22mshould track episode progress across anime series[39m[32m 114[2mms[22m[39m
[31m     → expected 400 to be 201 // Object.is equality[39m
[31m   [31m×[31m Integration: Episode-Level Review Tracking[2m > [22mshould handle episode numbering and season tracking[39m[32m 49[2mms[22m[39m
[31m     → expected 0 to be greater than or equal to 2[39m
[90mstdout[2m | tests/integration/content-discovery.test.ts[2m > [22m[2mIntegration: Content Discovery[2m > [22m[2mshould discover content through tag browsing and associations
[22m[39m[2025-09-28T05:53:07.287Z] GET http://localhost/tags - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/content-discovery.test.ts[2m > [22m[2mIntegration: Content Discovery[2m > [22m[2mshould discover content through tag browsing and associations
[22m[39m[2025-09-28T05:53:07.328Z] GET http://localhost/tags - 200 - 41ms

[90mstdout[2m | tests/integration/content-discovery.test.ts[2m > [22m[2mIntegration: Content Discovery[2m > [22m[2mshould show related content through tag associations
[22m[39m[2025-09-28T05:53:07.339Z] GET http://localhost/logs/123 - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/content-discovery.test.ts[2m > [22m[2mIntegration: Content Discovery[2m > [22m[2mshould show related content through tag associations
[22m[39mUnhandled error: HTTPException [Error]: Log not found
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:296:13
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:117:7
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/logs.ts:149:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m {
  res: [90mundefined[39m,
  status: [33m404[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/content-discovery.test.ts[2m > [22m[2mIntegration: Content Discovery[2m > [22m[2mshould show related content through tag associations
[22m[39m[2025-09-28T05:53:07.360Z] GET http://localhost/logs/123 - 404 - 21ms

[90mstdout[2m | tests/integration/content-discovery.test.ts[2m > [22m[2mIntegration: Content Discovery[2m > [22m[2mshould handle tag discovery pagination
[22m[39m[2025-09-28T05:53:07.370Z] GET http://localhost/tags?limit=5&offset=0 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/content-discovery.test.ts[2m > [22m[2mIntegration: Content Discovery[2m > [22m[2mshould handle tag discovery pagination
[22m[39m[2025-09-28T05:53:07.391Z] GET http://localhost/tags?limit=5&offset=0 - 200 - 21ms

 [31m❯[39m tests/integration/content-discovery.test.ts [2m([22m[2m3 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[32m 115[2mms[22m[39m
[31m   [31m×[31m Integration: Content Discovery[2m > [22mshould discover content through tag browsing and associations[39m[32m 59[2mms[22m[39m
[31m     → expected [] to not have a length of +0[39m
[31m   [31m×[31m Integration: Content Discovery[2m > [22mshould show related content through tag associations[39m[32m 31[2mms[22m[39m
[31m     → expected 404 to be 200 // Object.is equality[39m
[31m   [31m×[31m Integration: Content Discovery[2m > [22mshould handle tag discovery pagination[39m[32m 23[2mms[22m[39m
[31m     → expected [] to have a length of 5 but got +0[39m
[90mstdout[2m | tests/integration/mobile-workflows.test.ts[2m > [22m[2mIntegration: Mobile Workflows[2m > [22m[2mshould handle mobile user journey from login to log creation
[22m[39m[2025-09-28T05:53:08.615Z] GET http://localhost/auth/twitter - IP: unknown - UA: Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X) AppleWebKit/605.1.15

[90mstdout[2m | tests/integration/mobile-workflows.test.ts[2m > [22m[2mIntegration: Mobile Workflows[2m > [22m[2mshould handle mobile user journey from login to log creation
[22m[39m[2025-09-28T05:53:08.620Z] GET http://localhost/auth/twitter - 302 - 5ms

[90mstdout[2m | tests/integration/mobile-workflows.test.ts[2m > [22m[2mIntegration: Mobile Workflows[2m > [22m[2mshould optimize API responses for mobile bandwidth
[22m[39m[2025-09-28T05:53:08.630Z] GET http://localhost/logs?limit=10 - IP: unknown - UA: Mozilla/5.0 (Android 10; Mobile; rv:81.0) Gecko/81.0 Firefox/81.0

[90mstdout[2m | tests/integration/mobile-workflows.test.ts[2m > [22m[2mIntegration: Mobile Workflows[2m > [22m[2mshould optimize API responses for mobile bandwidth
[22m[39m[2025-09-28T05:53:08.670Z] GET http://localhost/logs?limit=10 - 200 - 40ms

[90mstdout[2m | tests/integration/mobile-workflows.test.ts[2m > [22m[2mIntegration: Mobile Workflows[2m > [22m[2mshould handle offline-to-online sync scenarios
[22m[39m[2025-09-28T05:53:08.672Z] POST http://localhost/logs - IP: unknown - UA: Mozilla/5.0 (Android 10; Mobile; rv:81.0) Gecko/81.0 Firefox/81.0

[90mstderr[2m | tests/integration/mobile-workflows.test.ts[2m > [22m[2mIntegration: Mobile Workflows[2m > [22m[2mshould handle offline-to-online sync scenarios
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/mobile-workflows.test.ts[2m > [22m[2mIntegration: Mobile Workflows[2m > [22m[2mshould handle offline-to-online sync scenarios
[22m[39m[2025-09-28T05:53:08.688Z] POST http://localhost/logs - 401 - 16ms

 [31m❯[39m tests/integration/mobile-workflows.test.ts [2m([22m[2m3 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[32m 85[2mms[22m[39m
[31m   [31m×[31m Integration: Mobile Workflows[2m > [22mshould handle mobile user journey from login to log creation[39m[32m 22[2mms[22m[39m
[31m     → expected 'https://x.com/i/oauth2/authorize?resp…' to contain 'twitter.com'[39m
   [32m✓[39m Integration: Mobile Workflows[2m > [22mshould optimize API responses for mobile bandwidth[32m 42[2mms[22m[39m
[31m   [31m×[31m Integration: Mobile Workflows[2m > [22mshould handle offline-to-online sync scenarios[39m[32m 19[2mms[22m[39m
[31m     → expected 401 to be 201 // Object.is equality[39m
[90mstdout[2m | tests/integration/user-onboarding.test.ts[2m > [22m[2mIntegration: New User Registration and First Log[2m > [22m[2mshould complete full user onboarding flow
[22m[39m[2025-09-28T05:53:09.858Z] GET http://localhost/auth/twitter - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/user-onboarding.test.ts[2m > [22m[2mIntegration: New User Registration and First Log[2m > [22m[2mshould complete full user onboarding flow
[22m[39m[2025-09-28T05:53:09.863Z] GET http://localhost/auth/twitter - 302 - 5ms

[90mstdout[2m | tests/integration/user-onboarding.test.ts[2m > [22m[2mIntegration: New User Registration and First Log[2m > [22m[2mshould handle unauthenticated log creation
[22m[39m[2025-09-28T05:53:09.873Z] POST http://localhost/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/integration/user-onboarding.test.ts[2m > [22m[2mIntegration: New User Registration and First Log[2m > [22m[2mshould handle unauthenticated log creation
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:101:14
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/integration/user-onboarding.test.ts[2m > [22m[2mIntegration: New User Registration and First Log[2m > [22m[2mshould handle unauthenticated log creation
[22m[39m[2025-09-28T05:53:09.880Z] POST http://localhost/logs - 401 - 7ms

 [31m❯[39m tests/integration/user-onboarding.test.ts [2m([22m[2m2 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 33[2mms[22m[39m
[31m   [31m×[31m Integration: New User Registration and First Log[2m > [22mshould complete full user onboarding flow[39m[32m 23[2mms[22m[39m
[31m     → expected 'https://x.com/i/oauth2/authorize?resp…' to contain 'twitter.com'[39m
   [32m✓[39m Integration: New User Registration and First Log[2m > [22mshould handle unauthenticated log creation[32m 9[2mms[22m[39m
 [32m✓[39m tests/unit/TagService.test.ts [2m([22m[2m32 tests[22m[2m)[22m[33m 6511[2mms[22m[39m
[90mstderr[2m | tests/unit/LogService.test.ts[2m > [22m[2mLogService[2m > [22m[2mupdateLog[2m > [22m[2mshould throw error for unauthorized user
[22m[39mvalidateLogOwnership check failed {
  logId: [32m'log_1759038801093'[39m,
  userId: [32m'user-456'[39m,
  result: { count: [33m0[39m }
}

[90mstderr[2m | tests/unit/LogService.test.ts[2m > [22m[2mLogService[2m > [22m[2mupdateLog[2m > [22m[2mshould throw error for non-existent log
[22m[39mvalidateLogOwnership check failed { logId: [32m'non-existent-id'[39m, userId: [32m'user-123'[39m, result: { count: [33m0[39m } }

[90mstderr[2m | tests/unit/LogService.test.ts[2m > [22m[2mLogService[2m > [22m[2mdeleteLog[2m > [22m[2mshould throw error for unauthorized user
[22m[39mvalidateLogOwnership check failed {
  logId: [32m'log_1759038802384'[39m,
  userId: [32m'user-456'[39m,
  result: { count: [33m0[39m }
}

[90mstderr[2m | tests/unit/LogService.test.ts[2m > [22m[2mLogService[2m > [22m[2mdeleteLog[2m > [22m[2mshould throw error for non-existent log
[22m[39mvalidateLogOwnership check failed { logId: [32m'non-existent-id'[39m, userId: [32m'user-123'[39m, result: { count: [33m0[39m } }

[90mstderr[2m | tests/unit/LogService.test.ts[2m > [22m[2mLogService[2m > [22m[2mvalidateLogOwnership[2m > [22m[2mshould return false for non-owner
[22m[39mvalidateLogOwnership check failed {
  logId: [32m'log_1759038803119'[39m,
  userId: [32m'other-user'[39m,
  result: { count: [33m0[39m }
}

[90mstderr[2m | tests/unit/LogService.test.ts[2m > [22m[2mLogService[2m > [22m[2mvalidateLogOwnership[2m > [22m[2mshould return false for non-existent log
[22m[39mvalidateLogOwnership check failed { logId: [32m'non-existent-id'[39m, userId: [32m'user-123'[39m, result: { count: [33m0[39m } }

 [32m✓[39m tests/unit/LogService.test.ts [2m([22m[2m24 tests[22m[2m)[22m[33m 6294[2mms[22m[39m
   [33m[2m✓[22m[39m LogService[2m > [22mcreateLog[2m > [22mshould create a new log with basic data [33m 301[2mms[22m[39m
   [33m[2m✓[22m[39m LogService[2m > [22mupdateLog[2m > [22mshould update log title [33m 322[2mms[22m[39m
   [33m[2m✓[22m[39m LogService[2m > [22mupdateLog[2m > [22mshould update log content [33m 317[2mms[22m[39m
   [33m[2m✓[22m[39m LogService[2m > [22mupdateLog[2m > [22mshould update multiple fields at once [33m 326[2mms[22m[39m
[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould extract hashtags from log content and create tag associations on log creation
[22m[39m[2025-09-28T05:53:26.813Z] POST http://localhost/api/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould extract hashtags from log content and create tag associations on log creation
[22m[39m[2025-09-28T05:53:26.967Z] POST http://localhost/api/logs - 201 - 154ms

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould merge explicit tag names with extracted hashtags
[22m[39m[2025-09-28T05:53:27.366Z] POST http://localhost/api/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould merge explicit tag names with extracted hashtags
[22m[39m[2025-09-28T05:53:27.539Z] POST http://localhost/api/logs - 201 - 174ms

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould link to existing tags when hashtags match existing tag names
[22m[39m[2025-09-28T05:53:27.929Z] POST http://localhost/api/tags - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould link to existing tags when hashtags match existing tag names
[22m[39m[2025-09-28T05:53:27.955Z] POST http://localhost/api/tags - 201 - 26ms

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould link to existing tags when hashtags match existing tag names
[22m[39m[2025-09-28T05:53:27.956Z] POST http://localhost/api/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould link to existing tags when hashtags match existing tag names
[22m[39m[2025-09-28T05:53:28.066Z] POST http://localhost/api/logs - 201 - 110ms

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould handle Japanese characters in hashtags
[22m[39m[2025-09-28T05:53:28.468Z] POST http://localhost/api/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould handle Japanese characters in hashtags
[22m[39m[2025-09-28T05:53:28.592Z] POST http://localhost/api/logs - 201 - 124ms

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould extract hashtags when updating log content
[22m[39m[2025-09-28T05:53:28.942Z] POST http://localhost/api/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould extract hashtags when updating log content
[22m[39m[2025-09-28T05:53:29.024Z] POST http://localhost/api/logs - 201 - 82ms

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould extract hashtags when updating log content
[22m[39m[2025-09-28T05:53:29.025Z] PUT http://localhost/api/logs/log_1759038808974 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould extract hashtags when updating log content
[22m[39m[2025-09-28T05:53:29.168Z] PUT http://localhost/api/logs/log_1759038808974 - 200 - 143ms

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould merge explicit tag names with hashtags when updating
[22m[39m[2025-09-28T05:53:29.536Z] POST http://localhost/api/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould merge explicit tag names with hashtags when updating
[22m[39m[2025-09-28T05:53:29.609Z] POST http://localhost/api/logs - 201 - 73ms

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould merge explicit tag names with hashtags when updating
[22m[39m[2025-09-28T05:53:29.609Z] PUT http://localhost/api/logs/log_1759038809565 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould merge explicit tag names with hashtags when updating
[22m[39m[2025-09-28T05:53:29.758Z] PUT http://localhost/api/logs/log_1759038809565 - 200 - 149ms

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould support both #{tagName} and #tagName hashtag formats
[22m[39m[2025-09-28T05:53:30.115Z] POST http://localhost/api/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould support both #{tagName} and #tagName hashtag formats
[22m[39m[2025-09-28T05:53:30.280Z] POST http://localhost/api/logs - 201 - 165ms

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould handle content without hashtags gracefully
[22m[39m[2025-09-28T05:53:30.622Z] POST http://localhost/api/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould handle content without hashtags gracefully
[22m[39m[2025-09-28T05:53:30.705Z] POST http://localhost/api/logs - 201 - 83ms

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould extract hashtags correctly from various formats
[22m[39m[2025-09-28T05:53:31.017Z] POST http://localhost/api/logs - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/log-hashtag-processing.test.ts[2m > [22m[2mLog Hashtag Processing Integration[2m > [22m[2mshould extract hashtags correctly from various formats
[22m[39m[2025-09-28T05:53:31.137Z] POST http://localhost/api/logs - 201 - 120ms

 [32m✓[39m tests/integration/log-hashtag-processing.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 4715[2mms[22m[39m
   [33m[2m✓[22m[39m Log Hashtag Processing Integration[2m > [22mshould extract hashtags from log content and create tag associations on log creation [33m 576[2mms[22m[39m
   [33m[2m✓[22m[39m Log Hashtag Processing Integration[2m > [22mshould merge explicit tag names with extracted hashtags [33m 563[2mms[22m[39m
   [33m[2m✓[22m[39m Log Hashtag Processing Integration[2m > [22mshould link to existing tags when hashtags match existing tag names [33m 510[2mms[22m[39m
   [33m[2m✓[22m[39m Log Hashtag Processing Integration[2m > [22mshould handle Japanese characters in hashtags [33m 523[2mms[22m[39m
   [33m[2m✓[22m[39m Log Hashtag Processing Integration[2m > [22mshould extract hashtags when updating log content [33m 597[2mms[22m[39m
   [33m[2m✓[22m[39m Log Hashtag Processing Integration[2m > [22mshould merge explicit tag names with hashtags when updating [33m 567[2mms[22m[39m
   [33m[2m✓[22m[39m Log Hashtag Processing Integration[2m > [22mshould support both #{tagName} and #tagName hashtag formats [33m 528[2mms[22m[39m
   [33m[2m✓[22m[39m Log Hashtag Processing Integration[2m > [22mshould handle content without hashtags gracefully [33m 400[2mms[22m[39m
   [33m[2m✓[22m[39m Log Hashtag Processing Integration[2m > [22mshould extract hashtags correctly from various formats [33m 449[2mms[22m[39m
[90mstdout[2m | tests/contract/users.contract.test.ts[2m > [22m[2mContract: Users routes[2m > [22m[2mGET /users/me[2m > [22m[2mreturns the authenticated user profile backed by persistence
[22m[39m[2025-09-28T05:53:32.684Z] GET http://localhost/users/me - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/users.contract.test.ts[2m > [22m[2mContract: Users routes[2m > [22m[2mGET /users/me[2m > [22m[2mreturns the authenticated user profile backed by persistence
[22m[39m[2025-09-28T05:53:32.706Z] GET http://localhost/users/me - 200 - 22ms

[90mstdout[2m | tests/contract/users.contract.test.ts[2m > [22m[2mContract: Users routes[2m > [22m[2mGET /users/me[2m > [22m[2mreturns 401 when request is unauthenticated
[22m[39m[2025-09-28T05:53:33.065Z] GET http://localhost/users/me - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/users.contract.test.ts[2m > [22m[2mContract: Users routes[2m > [22m[2mGET /users/me[2m > [22m[2mreturns 401 when request is unauthenticated
[22m[39mUnhandled error: HTTPException [Error]: No session provided
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:60:15
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/users.ts:29:52
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:11
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:23[90m)[39m
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:46 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/users.contract.test.ts[2m > [22m[2mContract: Users routes[2m > [22m[2mGET /users/me[2m > [22m[2mreturns 401 when request is unauthenticated
[22m[39m[2025-09-28T05:53:33.073Z] GET http://localhost/users/me - 401 - 8ms

[90mstdout[2m | tests/contract/users.contract.test.ts[2m > [22m[2mContract: Users routes[2m > [22m[2mGET /users/me[2m > [22m[2mreturns 401 when session cookie is invalid
[22m[39m[2025-09-28T05:53:33.408Z] GET http://localhost/users/me - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/users.contract.test.ts[2m > [22m[2mContract: Users routes[2m > [22m[2mGET /users/me[2m > [22m[2mreturns 401 when session cookie is invalid
[22m[39mUnhandled error: HTTPException [Error]: Invalid or expired session
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/auth.ts:66:15
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:108:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:11:5 {
  res: [90mundefined[39m,
  status: [33m401[39m,
  [cause]: [90mundefined[39m
}

[90mstdout[2m | tests/contract/users.contract.test.ts[2m > [22m[2mContract: Users routes[2m > [22m[2mGET /users/me[2m > [22m[2mreturns 401 when session cookie is invalid
[22m[39m[2025-09-28T05:53:33.418Z] GET http://localhost/users/me - 401 - 10ms

 [32m✓[39m tests/contract/users.contract.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 1126[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Users routes[2m > [22mGET /users/me[2m > [22mreturns the authenticated user profile backed by persistence [33m 431[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Users routes[2m > [22mGET /users/me[2m > [22mreturns 401 when request is unauthenticated [33m 343[2mms[22m[39m
   [33m[2m✓[22m[39m Contract: Users routes[2m > [22mGET /users/me[2m > [22mreturns 401 when session cookie is invalid [33m 350[2mms[22m[39m
 [32m✓[39m tests/unit/UserService.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 1109[2mms[22m[39m
[90mstdout[2m | tests/integration/multiple-login.test.ts[2m > [22m[2mMultiple Login Issue[2m > [22m[2mshould allow the same Twitter user to login multiple times
[22m[39m[2025-09-28T05:53:37.294Z] GET http://localhost/api/auth/callback?code=valid-auth-code&state=test-state-12345 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/multiple-login.test.ts[2m > [22m[2mMultiple Login Issue[2m > [22m[2mshould allow the same Twitter user to login multiple times
[22m[39m[2025-09-28T05:53:37.329Z] GET http://localhost/api/auth/callback?code=valid-auth-code&state=test-state-12345 - 302 - 35ms

[90mstdout[2m | tests/integration/multiple-login.test.ts[2m > [22m[2mMultiple Login Issue[2m > [22m[2mshould allow the same Twitter user to login multiple times
[22m[39m[2025-09-28T05:53:37.342Z] GET http://localhost/api/auth/callback?code=valid-auth-code&state=test-state-12345 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/multiple-login.test.ts[2m > [22m[2mMultiple Login Issue[2m > [22m[2mshould allow the same Twitter user to login multiple times
[22m[39m[2025-09-28T05:53:37.382Z] GET http://localhost/api/auth/callback?code=valid-auth-code&state=test-state-12345 - 302 - 40ms

[90mstdout[2m | tests/integration/multiple-login.test.ts[2m > [22m[2mMultiple Login Issue[2m > [22m[2mshould allow the same Twitter user to login multiple times
[22m[39m[2025-09-28T05:53:37.384Z] GET http://localhost/api/users/me - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/multiple-login.test.ts[2m > [22m[2mMultiple Login Issue[2m > [22m[2mshould allow the same Twitter user to login multiple times
[22m[39m[2025-09-28T05:53:37.404Z] GET http://localhost/api/users/me - 200 - 20ms

[90mstdout[2m | tests/integration/multiple-login.test.ts[2m > [22m[2mMultiple Login Issue[2m > [22m[2mshould allow the same Twitter user to login multiple times
[22m[39m[2025-09-28T05:53:37.405Z] GET http://localhost/api/users/me - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/multiple-login.test.ts[2m > [22m[2mMultiple Login Issue[2m > [22m[2mshould allow the same Twitter user to login multiple times
[22m[39m[2025-09-28T05:53:37.428Z] GET http://localhost/api/users/me - 200 - 23ms

[90mstdout[2m | tests/integration/multiple-login.test.ts[2m > [22m[2mMultiple Login Issue[2m > [22m[2mshould handle different users logging in without conflicts
[22m[39m[2025-09-28T05:53:37.765Z] GET http://localhost/api/auth/callback?code=valid-auth-code&state=user1-state-12345 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/multiple-login.test.ts[2m > [22m[2mMultiple Login Issue[2m > [22m[2mshould handle different users logging in without conflicts
[22m[39m[2025-09-28T05:53:37.792Z] GET http://localhost/api/auth/callback?code=valid-auth-code&state=user1-state-12345 - 302 - 27ms

[90mstdout[2m | tests/integration/multiple-login.test.ts[2m > [22m[2mMultiple Login Issue[2m > [22m[2mshould handle different users logging in without conflicts
[22m[39m[2025-09-28T05:53:37.793Z] GET http://localhost/api/auth/callback?code=valid-auth-code&state=user2-state-67890 - IP: unknown - UA: unknown

[90mstdout[2m | tests/integration/multiple-login.test.ts[2m > [22m[2mMultiple Login Issue[2m > [22m[2mshould handle different users logging in without conflicts
[22m[39m[2025-09-28T05:53:37.818Z] GET http://localhost/api/auth/callback?code=valid-auth-code&state=user2-state-67890 - 302 - 25ms

 [32m✓[39m tests/integration/multiple-login.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 910[2mms[22m[39m
   [33m[2m✓[22m[39m Multiple Login Issue[2m > [22mshould allow the same Twitter user to login multiple times [33m 520[2mms[22m[39m
   [33m[2m✓[22m[39m Multiple Login Issue[2m > [22mshould handle different users logging in without conflicts [33m 387[2mms[22m[39m
[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould return 200 status with reload response
[22m[39m[2025-09-28T05:53:38.269Z] POST http://localhost/dev/reload - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould return 200 status with reload response
[22m[39mDocker reload failed, returning mock response: Error: Command failed: docker compose restart backend
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose restart backend'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould return 200 status with reload response
[22m[39m[2025-09-28T05:53:38.363Z] POST http://localhost/dev/reload - 200 - 94ms

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould validate required service field
[22m[39m[2025-09-28T05:53:38.369Z] POST http://localhost/dev/reload - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould validate required service field
[22m[39m[2025-09-28T05:53:38.370Z] POST http://localhost/dev/reload - 400 - 1ms

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould validate service field values
[22m[39m[2025-09-28T05:53:38.371Z] POST http://localhost/dev/reload - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould validate service field values
[22m[39m[2025-09-28T05:53:38.371Z] POST http://localhost/dev/reload - 400 - 0ms

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould accept valid service values
[22m[39m[2025-09-28T05:53:38.372Z] POST http://localhost/dev/reload - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould accept valid service values
[22m[39mDocker reload failed, returning mock response: Error: Command failed: docker compose restart backend
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose restart backend'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould accept valid service values
[22m[39m[2025-09-28T05:53:38.446Z] POST http://localhost/dev/reload - 200 - 74ms

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould accept valid service values
[22m[39m[2025-09-28T05:53:38.447Z] POST http://localhost/dev/reload - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould accept valid service values
[22m[39mDocker reload failed, returning mock response: Error: Command failed: docker compose restart frontend
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose restart frontend'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould accept valid service values
[22m[39m[2025-09-28T05:53:38.514Z] POST http://localhost/dev/reload - 200 - 67ms

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould accept valid service values
[22m[39m[2025-09-28T05:53:38.516Z] POST http://localhost/dev/reload - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould accept valid service values
[22m[39mDocker reload failed, returning mock response: Error: Command failed: docker compose restart
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose restart'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould accept valid service values
[22m[39m[2025-09-28T05:53:38.583Z] POST http://localhost/dev/reload - 200 - 67ms

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould handle force parameter
[22m[39m[2025-09-28T05:53:38.584Z] POST http://localhost/dev/reload - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould handle force parameter
[22m[39mDocker reload failed, returning mock response: Error: Command failed: docker compose up -d --force-recreate backend
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose up -d --force-recreate backend'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould handle force parameter
[22m[39m[2025-09-28T05:53:38.650Z] POST http://localhost/dev/reload - 200 - 66ms

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould require JSON content-type
[22m[39m[2025-09-28T05:53:38.652Z] POST http://localhost/dev/reload - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould require JSON content-type
[22m[39mDev reload error: SyntaxError: Unexpected token 'i', "invalid body" is not valid JSON
    at JSON.parse (<anonymous>)
    at [90mfile:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/request.js:78:57
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/dev.ts:171:18
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/routes/dev.ts:17:3
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/index.ts:174:5
    at dispatch [90m(file:///home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39mnode_modules/[4mhono[24m/dist/compose.js:22:17[90m)[39m
    at [90m/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/[39msrc/middleware/security.ts:159:5

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould require JSON content-type
[22m[39m[2025-09-28T05:53:38.658Z] POST http://localhost/dev/reload - 400 - 6ms

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould have correct response content-type header
[22m[39m[2025-09-28T05:53:38.659Z] POST http://localhost/dev/reload - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould have correct response content-type header
[22m[39mDocker reload failed, returning mock response: Error: Command failed: docker compose restart backend
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose restart backend'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-reload.test.ts[2m > [22m[2mContract Test: POST /dev/reload[2m > [22m[2mshould have correct response content-type header
[22m[39m[2025-09-28T05:53:38.733Z] POST http://localhost/dev/reload - 200 - 74ms

 [32m✓[39m tests/contract/dev-reload.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 531[2mms[22m[39m
[90mstdout[2m | tests/contract/dev-config.test.ts[2m > [22m[2mContract Test: GET /dev/config[2m > [22m[2mshould return 200 status with development configuration
[22m[39m[2025-09-28T05:53:38.996Z] GET http://localhost/dev/config - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-config.test.ts[2m > [22m[2mContract Test: GET /dev/config[2m > [22m[2mshould return 200 status with development configuration
[22m[39mCould not get Docker status: Error: Command failed: docker compose ps --format json
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose ps --format json'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-config.test.ts[2m > [22m[2mContract Test: GET /dev/config[2m > [22m[2mshould return 200 status with development configuration
[22m[39m[2025-09-28T05:53:39.083Z] GET http://localhost/dev/config - 200 - 87ms

[90mstdout[2m | tests/contract/dev-config.test.ts[2m > [22m[2mContract Test: GET /dev/config[2m > [22m[2mshould include all expected services
[22m[39m[2025-09-28T05:53:39.089Z] GET http://localhost/dev/config - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-config.test.ts[2m > [22m[2mContract Test: GET /dev/config[2m > [22m[2mshould include all expected services
[22m[39mCould not get Docker status: Error: Command failed: docker compose ps --format json
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose ps --format json'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-config.test.ts[2m > [22m[2mContract Test: GET /dev/config[2m > [22m[2mshould include all expected services
[22m[39m[2025-09-28T05:53:39.155Z] GET http://localhost/dev/config - 200 - 66ms

[90mstdout[2m | tests/contract/dev-config.test.ts[2m > [22m[2mContract Test: GET /dev/config[2m > [22m[2mshould have correct content-type header
[22m[39m[2025-09-28T05:53:39.157Z] GET http://localhost/dev/config - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-config.test.ts[2m > [22m[2mContract Test: GET /dev/config[2m > [22m[2mshould have correct content-type header
[22m[39mCould not get Docker status: Error: Command failed: docker compose ps --format json
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose ps --format json'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-config.test.ts[2m > [22m[2mContract Test: GET /dev/config[2m > [22m[2mshould have correct content-type header
[22m[39m[2025-09-28T05:53:39.224Z] GET http://localhost/dev/config - 200 - 67ms

[90mstdout[2m | tests/contract/dev-config.test.ts[2m > [22m[2mContract Test: GET /dev/config[2m > [22m[2mshould only be available in development environment
[22m[39m[2025-09-28T05:53:39.226Z] GET http://localhost/dev/config - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-config.test.ts[2m > [22m[2mContract Test: GET /dev/config[2m > [22m[2mshould only be available in development environment
[22m[39mCould not get Docker status: Error: Command failed: docker compose ps --format json
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose ps --format json'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-config.test.ts[2m > [22m[2mContract Test: GET /dev/config[2m > [22m[2mshould only be available in development environment
[22m[39m[2025-09-28T05:53:39.293Z] GET http://localhost/dev/config - 200 - 67ms

 [32m✓[39m tests/contract/dev-config.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 364[2mms[22m[39m
[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould return 200 status with logs data
[22m[39m[2025-09-28T05:53:39.562Z] GET http://localhost/dev/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould return 200 status with logs data
[22m[39mCould not get Docker logs: Error: Command failed: docker compose logs --tail=100 backend
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose logs --tail=100 backend'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould return 200 status with logs data
[22m[39m[2025-09-28T05:53:39.648Z] GET http://localhost/dev/logs - 200 - 86ms

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould support service query parameter
[22m[39m[2025-09-28T05:53:39.654Z] GET http://localhost/dev/logs?service=backend - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould support service query parameter
[22m[39mCould not get Docker logs: Error: Command failed: docker compose logs --tail=100 backend
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose logs --tail=100 backend'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould support service query parameter
[22m[39m[2025-09-28T05:53:39.722Z] GET http://localhost/dev/logs?service=backend - 200 - 68ms

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould support lines query parameter
[22m[39m[2025-09-28T05:53:39.724Z] GET http://localhost/dev/logs?lines=50 - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould support lines query parameter
[22m[39mCould not get Docker logs: Error: Command failed: docker compose logs --tail=50 backend
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose logs --tail=50 backend'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould support lines query parameter
[22m[39m[2025-09-28T05:53:39.792Z] GET http://localhost/dev/logs?lines=50 - 200 - 68ms

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould validate lines parameter bounds
[22m[39m[2025-09-28T05:53:39.794Z] GET http://localhost/dev/logs?lines=0 - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould validate lines parameter bounds
[22m[39m[2025-09-28T05:53:39.795Z] GET http://localhost/dev/logs?lines=0 - 400 - 1ms

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould validate lines parameter bounds
[22m[39m[2025-09-28T05:53:39.796Z] GET http://localhost/dev/logs?lines=1001 - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould validate lines parameter bounds
[22m[39m[2025-09-28T05:53:39.796Z] GET http://localhost/dev/logs?lines=1001 - 400 - 0ms

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould validate service parameter values
[22m[39m[2025-09-28T05:53:39.797Z] GET http://localhost/dev/logs?service=invalid - IP: unknown - UA: unknown

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould validate service parameter values
[22m[39m[2025-09-28T05:53:39.797Z] GET http://localhost/dev/logs?service=invalid - 400 - 0ms

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould have correct content-type header
[22m[39m[2025-09-28T05:53:39.798Z] GET http://localhost/dev/logs - IP: unknown - UA: unknown

[90mstderr[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould have correct content-type header
[22m[39mCould not get Docker logs: Error: Command failed: docker compose logs --tail=100 backend
no configuration file provided: not found

[90m    at genericNodeError (node:internal/errors:984:15)[39m
[90m    at wrappedFn (node:internal/errors:538:14)[39m
[90m    at ChildProcess.exithandler (node:child_process:422:12)[39m
[90m    at ChildProcess.emit (node:events:524:28)[39m
[90m    at maybeClose (node:internal/child_process:1104:16)[39m
[90m    at Process.ChildProcess._handle.onexit (node:internal/child_process:304:5)[39m {
  code: [33m1[39m,
  killed: [33mfalse[39m,
  signal: [1mnull[22m,
  cmd: [32m'docker compose logs --tail=100 backend'[39m,
  stdout: [32m''[39m,
  stderr: [32m'no configuration file provided: not found\n'[39m
}

[90mstdout[2m | tests/contract/dev-logs.test.ts[2m > [22m[2mContract Test: GET /dev/logs[2m > [22m[2mshould have correct content-type header
[22m[39m[2025-09-28T05:53:39.866Z] GET http://localhost/dev/logs - 200 - 68ms

 [32m✓[39m tests/contract/dev-logs.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 372[2mms[22m[39m
 [2m[90m↓[39m[22m tests/contract/auth-callback.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/auth-logout.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/auth-twitter.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/logs-create.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/logs-delete.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/logs-detail.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/logs-list.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/logs-share.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/logs-update.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/tag-associations-create.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/tag-associations-delete.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/tag-associations-list.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/tags-create.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/tags-delete.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/tags-detail.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/tags-list.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/tags-update.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m
 [2m[90m↓[39m[22m tests/contract/users-me.test.ts [2m([22m[2m1 test[22m[2m | [22m[33m1 skipped[39m[2m)[22m

[31m⎯⎯⎯⎯⎯⎯[39m[1m[41m Failed Suites 1 [49m[22m[31m⎯⎯⎯⎯⎯⎯⎯[39m

[41m[1m FAIL [22m[49m tests/unit/CacheService.test.ts[2m [ tests/unit/CacheService.test.ts ][22m
[31m[1mError[22m: Cannot find module '../../src/services/CacheService.js' imported from '/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/unit/CacheService.test.ts'[39m
[36m [2m❯[22m tests/unit/CacheService.test.ts:[2m2:1[22m[39m
    [90m  1| [39m[35mimport[39m { describe[33m,[39m it[33m,[39m expect[33m,[39m beforeEach[33m,[39m vi } [35mfrom[39m [32m'vitest'[39m[33m;[39m
    [90m  2| [39m[35mimport[39m { [33mCacheService[39m } [35mfrom[39m [32m'../../src/services/CacheService.js'[39m[33m;[39m
    [90m   | [39m[31m^[39m
    [90m  3| [39m
    [90m  4| [39m[34mdescribe[39m([32m'CacheService'[39m[33m,[39m () [33m=>[39m {

[31m[1mCaused by: Error[22m: Failed to load url ../../src/services/CacheService.js (resolved id: ../../src/services/CacheService.js) in /home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/unit/CacheService.test.ts. Does the file exist?[39m
[90m [2m❯[22m loadAndTransform node_modules/vite/dist/node/chunks/dep-Bm2ujbhY.js:[2m26109:33[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/46]⎯[22m[39m


[31m⎯⎯⎯⎯⎯⎯[39m[1m[41m Failed Tests 45 [49m[22m[31m⎯⎯⎯⎯⎯⎯⎯[39m

[41m[1m FAIL [22m[49m tests/contract/auth.contract.test.ts[2m > [22mContract: Auth routes[2m > [22mGET /auth/twitter[2m > [22mredirects to Twitter OAuth with required parameters
[31m[1mAssertionError[22m: expected 'test_client_id' to be 'test-twitter-client-id' // Object.is equality[39m

Expected: [32m"test[7m-twitter-[27mclient[7m-[27mid"[39m
Received: [31m"test[7m_[27mclient[7m_[27mid"[39m

[36m [2m❯[22m tests/contract/auth.contract.test.ts:[2m36:49[22m[39m
    [90m 34| [39m      [34mexpect[39m(url[33m.[39mhost)[33m.[39m[34mtoContain[39m([32m'x.com'[39m)[33m;[39m
    [90m 35| [39m      [34mexpect[39m(url[33m.[39mpathname)[33m.[39m[34mtoContain[39m([32m'oauth'[39m)[33m;[39m
    [90m 36| [39m      expect(url.searchParams.get('client_id')).toBe('test-twitter-cli…
    [90m   | [39m                                                [31m^[39m
    [90m 37| [39m      expect(url.searchParams.get('redirect_uri')).toBe('http://localh…
    [90m 38| [39m      [34mexpect[39m(url[33m.[39msearchParams[33m.[39m[35mget[39m([32m'response_type'[39m))[33m.[39m[34mtoBe[39m([32m'code'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/health.test.ts[2m > [22mContract Test: GET /health[2m > [22mshould return 200 status with healthy response
[31m[1mAssertionError[22m: expected { status: 'healthy', …(4) } to match object { status: 'healthy', …(2) }
(2 matching properties omitted from actual)[39m

[32m- Expected[39m
[31m+ Received[39m

[2m  {[22m
[2m    "services": {[22m
[2m      "backend": StringMatching /running|stopped/,[22m
[32m-     "database": StringMatching /connected|disconnected/,[39m
[31m+     "database": "unknown",[39m
[2m    },[22m
[2m    "status": "healthy",[22m
[2m    "timestamp": Any<String>,[22m
[2m  }[22m

[36m [2m❯[22m tests/contract/health.test.ts:[2m34:18[22m[39m
    [90m 32| [39m    
    [90m 33| [39m    [35mconst[39m json [33m=[39m [35mawait[39m res[33m.[39m[34mjson[39m()[33m;[39m
    [90m 34| [39m    [34mexpect[39m(json)[33m.[39m[34mtoMatchObject[39m({
    [90m   | [39m                 [31m^[39m
    [90m 35| [39m      status[33m:[39m [32m'healthy'[39m[33m,[39m
    [90m 36| [39m      timestamp[33m:[39m expect[33m.[39m[34many[39m([33mString[39m)[33m,[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/logs.contract.test.ts[2m > [22mContract: Logs routes[2m > [22mPOST /logs[2m > [22mreturns 400 when payload is invalid
[31m[1mAssertionError[22m: expected 201 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 201[39m

[36m [2m❯[22m tests/contract/logs.contract.test.ts:[2m220:34[22m[39m
    [90m218| [39m        })
    [90m219| [39m      })[33m;[39m
    [90m220| [39m      [34mexpect[39m(missingTags[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                                 [31m^[39m
    [90m221| [39m
    [90m222| [39m      [35mconst[39m missingContent [33m=[39m [35mawait[39m app[33m.[39m[34mrequest[39m([32m'/logs'[39m[33m,[39m {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/tags.contract.test.ts[2m > [22mContract: Tags routes[2m > [22mPUT /tags/:tagId[2m > [22mupdates tag fields when requested by owner
[31m[1mAssertionError[22m: expected 401 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 401[39m

[36m [2m❯[22m tests/contract/tags.contract.test.ts:[2m200:31[22m[39m
    [90m198| [39m      })[33m;[39m
    [90m199| [39m
    [90m200| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m201| [39m      [35mconst[39m tag [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m202| [39m      [34mexpect[39m(tag)[33m.[39m[34mtoMatchObject[39m({

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/tags.contract.test.ts[2m > [22mContract: Tags routes[2m > [22mPUT /tags/:tagId[2m > [22mreturns 403 when user is not the tag owner
[31m[1mAssertionError[22m: expected 401 to be 403 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 403[39m
[31m+ 401[39m

[36m [2m❯[22m tests/contract/tags.contract.test.ts:[2m242:31[22m[39m
    [90m240| [39m      })[33m;[39m
    [90m241| [39m
    [90m242| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m403[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m243| [39m    })[33m;[39m
    [90m244| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/tags.contract.test.ts[2m > [22mContract: Tags routes[2m > [22mPUT /tags/:tagId[2m > [22mreturns 404 when tag does not exist
[31m[1mAssertionError[22m: expected 401 to be 404 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 404[39m
[31m+ 401[39m

[36m [2m❯[22m tests/contract/tags.contract.test.ts:[2m259:31[22m[39m
    [90m257| [39m      })[33m;[39m
    [90m258| [39m
    [90m259| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m404[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m260| [39m    })[33m;[39m
    [90m261| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/tags.contract.test.ts[2m > [22mContract: Tags routes[2m > [22mDELETE /tags/:tagId[2m > [22mremoves a tag owned by the requester
[31m[1mAssertionError[22m: expected 401 to be 204 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 204[39m
[31m+ 401[39m

[36m [2m❯[22m tests/contract/tags.contract.test.ts:[2m274:31[22m[39m
    [90m272| [39m      })[33m;[39m
    [90m273| [39m
    [90m274| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m204[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m275| [39m
    [90m276| [39m      const confirm = await app.request('/tags/tag_anime', { method: '…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/tags.contract.test.ts[2m > [22mContract: Tags routes[2m > [22mDELETE /tags/:tagId[2m > [22mreturns 403 when user is not the owner
[31m[1mAssertionError[22m: expected 401 to be 403 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 403[39m
[31m+ 401[39m

[36m [2m❯[22m tests/contract/tags.contract.test.ts:[2m299:31[22m[39m
    [90m297| [39m      })[33m;[39m
    [90m298| [39m
    [90m299| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m403[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m300| [39m    })[33m;[39m
    [90m301| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/tags.contract.test.ts[2m > [22mContract: Tags routes[2m > [22mDELETE /tags/:tagId[2m > [22mreturns 404 when tag does not exist
[31m[1mAssertionError[22m: expected 401 to be 404 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 404[39m
[31m+ 401[39m

[36m [2m❯[22m tests/contract/tags.contract.test.ts:[2m314:31[22m[39m
    [90m312| [39m      })[33m;[39m
    [90m313| [39m
    [90m314| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m404[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m315| [39m    })[33m;[39m
    [90m316| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/tags.contract.test.ts[2m > [22mContract: Tags routes[2m > [22mTag associations[2m > [22mcreates and lists tag associations
[31m[1mAssertionError[22m: expected 401 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 401[39m

[36m [2m❯[22m tests/contract/tags.contract.test.ts:[2m331:37[22m[39m
    [90m329| [39m      })[33m;[39m
    [90m330| [39m
    [90m331| [39m      [34mexpect[39m(createResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                                    [31m^[39m
    [90m332| [39m
    [90m333| [39m      const listResponse = await app.request('/tags/tag_anime/associat…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/tags.contract.test.ts[2m > [22mContract: Tags routes[2m > [22mTag associations[2m > [22mreturns 400 when association payload is invalid
[31m[1mAssertionError[22m: expected 401 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 401[39m

[36m [2m❯[22m tests/contract/tags.contract.test.ts:[2m353:31[22m[39m
    [90m351| [39m      })[33m;[39m
    [90m352| [39m
    [90m353| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m354| [39m    })[33m;[39m
    [90m355| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/tags.contract.test.ts[2m > [22mContract: Tags routes[2m > [22mTag associations[2m > [22mreturns 404 when base tag is missing during association creation
[31m[1mAssertionError[22m: expected 401 to be 404 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 404[39m
[31m+ 401[39m

[36m [2m❯[22m tests/contract/tags.contract.test.ts:[2m385:31[22m[39m
    [90m383| [39m      })[33m;[39m
    [90m384| [39m
    [90m385| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m404[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m386| [39m    })[33m;[39m
    [90m387| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/tags.contract.test.ts[2m > [22mContract: Tags routes[2m > [22mTag associations[2m > [22mremoves an existing association
[31m[1mAssertionError[22m: expected 401 to be 204 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 204[39m
[31m+ 401[39m

[36m [2m❯[22m tests/contract/tags.contract.test.ts:[2m407:37[22m[39m
    [90m405| [39m      })[33m;[39m
    [90m406| [39m
    [90m407| [39m      [34mexpect[39m(deleteResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m204[39m)[33m;[39m
    [90m   | [39m                                    [31m^[39m
    [90m408| [39m
    [90m409| [39m      const listResponse = await app.request('/tags/tag_anime/associat…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/contract/tags.contract.test.ts[2m > [22mContract: Tags routes[2m > [22mTag associations[2m > [22mreturns 404 when deleting association for missing tag
[31m[1mAssertionError[22m: expected 401 to be 404 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 404[39m
[31m+ 401[39m

[36m [2m❯[22m tests/contract/tags.contract.test.ts:[2m436:31[22m[39m
    [90m434| [39m      })[33m;[39m
    [90m435| [39m
    [90m436| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m404[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m437| [39m    })[33m;[39m
    [90m438| [39m  })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/content-discovery.test.ts[2m > [22mIntegration: Content Discovery[2m > [22mshould discover content through tag browsing and associations
[31m[1mAssertionError[22m: expected [] to not have a length of +0[39m
[36m [2m❯[22m tests/integration/content-discovery.test.ts:[2m17:32[22m[39m
    [90m 15| [39m    [34mexpect[39m(tagsData)[33m.[39m[34mtoHaveProperty[39m([32m'items'[39m)[33m;[39m
    [90m 16| [39m    [34mexpect[39m([33mArray[39m[33m.[39m[34misArray[39m(tagsData[33m.[39mitems))[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m 17| [39m    [34mexpect[39m(tagsData[33m.[39mitems)[33m.[39mnot[33m.[39m[34mtoHaveLength[39m([34m0[39m)[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m 18| [39m
    [90m 19| [39m    [90m// Search for specific tag category[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/content-discovery.test.ts[2m > [22mIntegration: Content Discovery[2m > [22mshould show related content through tag associations
[31m[1mAssertionError[22m: expected 404 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 404[39m

[36m [2m❯[22m tests/integration/content-discovery.test.ts:[2m44:32[22m[39m
    [90m 42| [39m      method[33m:[39m [32m'GET'[39m
    [90m 43| [39m    })[33m;[39m
    [90m 44| [39m    [34mexpect[39m(logResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m 45| [39m    
    [90m 46| [39m    [35mconst[39m logData [33m=[39m [35mawait[39m logResponse[33m.[39m[34mjson[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/content-discovery.test.ts[2m > [22mIntegration: Content Discovery[2m > [22mshould handle tag discovery pagination
[31m[1mAssertionError[22m: expected [] to have a length of 5 but got +0[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 5[39m
[31m+ 0[39m

[36m [2m❯[22m tests/integration/content-discovery.test.ts:[2m68:29[22m[39m
    [90m 66| [39m    
    [90m 67| [39m    [35mconst[39m page1Data [33m=[39m [35mawait[39m page1Response[33m.[39m[34mjson[39m()[33m;[39m
    [90m 68| [39m    [34mexpect[39m(page1Data[33m.[39mitems)[33m.[39m[34mtoHaveLength[39m([34m5[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m 69| [39m    [34mexpect[39m(page1Data)[33m.[39m[34mtoHaveProperty[39m([32m'total'[39m)[33m;[39m
    [90m 70| [39m    [34mexpect[39m(page1Data)[33m.[39m[34mtoHaveProperty[39m([32m'limit'[39m[33m,[39m [34m5[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[18/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/episode-logging.test.ts[2m > [22mIntegration: Episode-Level Review Tracking[2m > [22mshould track episode progress across anime series
[31m[1mAssertionError[22m: expected 400 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 400[39m

[36m [2m❯[22m tests/integration/episode-logging.test.ts:[2m46:33[22m[39m
    [90m 44| [39m      body[33m:[39m [33mJSON[39m[33m.[39m[34mstringify[39m(episode1Data)
    [90m 45| [39m    })[33m;[39m
    [90m 46| [39m    [34mexpect[39m(log1Response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                                [31m^[39m
    [90m 47| [39m
    [90m 48| [39m    [90m// Create second episode log [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[19/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/episode-logging.test.ts[2m > [22mIntegration: Episode-Level Review Tracking[2m > [22mshould handle episode numbering and season tracking
[31m[1mAssertionError[22m: expected 0 to be greater than or equal to 2[39m
[36m [2m❯[22m tests/integration/episode-logging.test.ts:[2m138:35[22m[39m
    [90m136| [39m    
    [90m137| [39m    [35mconst[39m userData [33m=[39m [35mawait[39m userLogsResponse[33m.[39m[34mjson[39m()[33m;[39m
    [90m138| [39m    [34mexpect[39m(userData[33m.[39mitems[33m.[39mlength)[33m.[39m[34mtoBeGreaterThanOrEqual[39m([34m2[39m)[33m;[39m
    [90m   | [39m                                  [31m^[39m
    [90m139| [39m    
    [90m140| [39m    [90m// Verify episodes are properly ordered by season then episode[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[20/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/error-handling.test.ts[2m > [22mIntegration: Error Handling[2m > [22mshould handle malformed request bodies gracefully
[31m[1mAssertionError[22m: expected 401 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/error-handling.test.ts:[2m20:38[22m[39m
    [90m 18| [39m    })[33m;[39m
    [90m 19| [39m
    [90m 20| [39m    [34mexpect[39m(malformedResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m 21| [39m    [35mconst[39m errorData [33m=[39m [35mawait[39m malformedResponse[33m.[39m[34mjson[39m()[33m;[39m
    [90m 22| [39m    [34mexpect[39m(errorData)[33m.[39m[34mtoHaveProperty[39m([32m'error'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[21/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/error-handling.test.ts[2m > [22mIntegration: Error Handling[2m > [22mshould handle database connection failures
[31m[1mAssertionError[22m: expected 200 to be 503 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 503[39m
[31m+ 200[39m

[36m [2m❯[22m tests/integration/error-handling.test.ts:[2m35:38[22m[39m
    [90m 33| [39m    })[33m;[39m
    [90m 34| [39m
    [90m 35| [39m    [34mexpect[39m(dbFailureResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m503[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m 36| [39m    [35mconst[39m errorData [33m=[39m [35mawait[39m dbFailureResponse[33m.[39m[34mjson[39m()[33m;[39m
    [90m 37| [39m    [34mexpect[39m(errorData)[33m.[39m[34mtoHaveProperty[39m([32m'error'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[22/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/error-handling.test.ts[2m > [22mIntegration: Error Handling[2m > [22mshould handle Twitter API failures during OAuth
[31m[1mAssertionError[22m: expected 302 to be 502 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 502[39m
[31m+ 302[39m

[36m [2m❯[22m tests/integration/error-handling.test.ts:[2m50:43[22m[39m
    [90m 48| [39m    })[33m;[39m
    [90m 49| [39m
    [90m 50| [39m    [34mexpect[39m(twitterFailureResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m502[39m)[33m;[39m
    [90m   | [39m                                          [31m^[39m
    [90m 51| [39m    [35mconst[39m errorData [33m=[39m [35mawait[39m twitterFailureResponse[33m.[39m[34mjson[39m()[33m;[39m
    [90m 52| [39m    [34mexpect[39m(errorData)[33m.[39m[34mtoHaveProperty[39m([32m'error'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[23/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/error-handling.test.ts[2m > [22mIntegration: Error Handling[2m > [22mshould handle concurrent log creation conflicts
[31m[1mAssertionError[22m: expected [ 201, 409, 429 ] to include 401[39m
[36m [2m❯[22m tests/integration/error-handling.test.ts:[2m97:31[22m[39m
    [90m 95| [39m    [90m// All should succeed or fail gracefully[39m
    [90m 96| [39m    responses[33m.[39m[34mforEach[39m(response [33m=>[39m {
    [90m 97| [39m      expect([201, 409, 429]).toContain(response.status); // Created, …
    [90m   | [39m                              [31m^[39m
    [90m 98| [39m    })[33m;[39m
    [90m 99| [39m  })[33m;[39m
[90m [2m❯[22m tests/integration/error-handling.test.ts:[2m96:15[22m[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[24/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/error-handling.test.ts[2m > [22mIntegration: Error Handling[2m > [22mshould handle extremely large request payloads
[31m[1mAssertionError[22m: expected [ 413, 400 ] to include 401[39m
[36m [2m❯[22m tests/integration/error-handling.test.ts:[2m122:24[22m[39m
    [90m120| [39m    })[33m;[39m
    [90m121| [39m
    [90m122| [39m    expect([413, 400]).toContain(largeContentResponse.status); // Payl…
    [90m   | [39m                       [31m^[39m
    [90m123| [39m  })[33m;[39m
    [90m124| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[25/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/error-handling.test.ts[2m > [22mIntegration: Error Handling[2m > [22mshould handle invalid tag associations
[31m[1mAssertionError[22m: expected 401 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/error-handling.test.ts:[2m144:39[22m[39m
    [90m142| [39m    })[33m;[39m
    [90m143| [39m
    [90m144| [39m    [34mexpect[39m(invalidTagResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                                      [31m^[39m
    [90m145| [39m    [35mconst[39m errorData [33m=[39m [35mawait[39m invalidTagResponse[33m.[39m[34mjson[39m()[33m;[39m
    [90m146| [39m    [34mexpect[39m(errorData)[33m.[39m[34mtoHaveProperty[39m([32m'error'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[26/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/hashtag-processing.test.ts[2m > [22mHashtag Processing Integration[2m > [22mshould process hashtags when updating a tag
[31m[1mAssertionError[22m: expected 401 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/hashtag-processing.test.ts:[2m122:35[22m[39m
    [90m120| [39m    })[33m;[39m
    [90m121| [39m    
    [90m122| [39m    [34mexpect[39m(updateResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                                  [31m^[39m
    [90m123| [39m    
    [90m124| [39m    [90m// Check associations[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[27/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/hashtag-processing.test.ts[2m > [22mHashtag Processing Integration[2m > [22mshould support both #{tagName} and #tagName hashtag formats
[31m[1mAssertionError[22m: expected [ { …(7) }, { …(7) }, { …(7) }, …(1) ] to have a length of 3 but got 4[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 3[39m
[31m+ 4[39m

[36m [2m❯[22m tests/integration/hashtag-processing.test.ts:[2m200:36[22m[39m
    [90m198| [39m    [35mconst[39m tagDetail [33m=[39m [35mawait[39m detailResponse[33m.[39m[34mjson[39m()[33m;[39m
    [90m199| [39m    
    [90m200| [39m    [34mexpect[39m(tagDetail[33m.[39massociations)[33m.[39m[34mtoHaveLength[39m([34m3[39m)[33m;[39m
    [90m   | [39m                                   [31m^[39m
    [90m201| [39m    const associationNames = tagDetail.associations.map((t: any) => t.…
    [90m202| [39m    expect(associationNames).toEqual(['anime', 'extended format', 'gam…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[28/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/mobile-workflows.test.ts[2m > [22mIntegration: Mobile Workflows[2m > [22mshould handle mobile user journey from login to log creation
[31m[1mAssertionError[22m: expected 'https://x.com/i/oauth2/authorize?resp…' to contain 'twitter.com'[39m

Expected: [32m"twitter.com"[39m
Received: [31m"https://x.com/i/oauth2/authorize?response_type=code&client_id=test_client_id&redirect_uri=http%3A%2F%2Flocalhost%3A8787%2Fauth%2Fcallback&scope=tweet.read+users.read&state=cadd8a77e19703f41811c5e2e3ad8718d938fa2cff6d02f29244b3f5aff1cb18&code_challenge=85nqZ3TyssB0TxFkPnfyEt03b6grBkqSFIpfs3NyZbM&code_challenge_method=S256"[39m

[36m [2m❯[22m tests/integration/mobile-workflows.test.ts:[2m17:50[22m[39m
    [90m 15| [39m    })[33m;[39m
    [90m 16| [39m    [34mexpect[39m(authResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m302[39m)[33m;[39m
    [90m 17| [39m    expect(authResponse.headers.get('Location')).toContain('twitter.co…
    [90m   | [39m                                                 [31m^[39m
    [90m 18| [39m
    [90m 19| [39m    [90m// Handle OAuth callback (mobile)[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[29/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/mobile-workflows.test.ts[2m > [22mIntegration: Mobile Workflows[2m > [22mshould handle offline-to-online sync scenarios
[31m[1mAssertionError[22m: expected 401 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/mobile-workflows.test.ts:[2m104:35[22m[39m
    [90m102| [39m        body[33m:[39m [33mJSON[39m[33m.[39m[34mstringify[39m(entry)
    [90m103| [39m      })[33m;[39m
    [90m104| [39m      [34mexpect[39m(syncResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                                  [31m^[39m
    [90m105| [39m    }
    [90m106| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[30/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/tag-management.test.ts[2m > [22mIntegration: Tag Management[2m > [22mshould create and associate new tags during log creation
[31m[1mAssertionError[22m: expected 401 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/tag-management.test.ts:[2m28:32[22m[39m
    [90m 26| [39m      body[33m:[39m [33mJSON[39m[33m.[39m[34mstringify[39m(logWithNewTagsData)
    [90m 27| [39m    })[33m;[39m
    [90m 28| [39m    [34mexpect[39m(logResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m 29| [39m
    [90m 30| [39m    [35mconst[39m logData [33m=[39m [35mawait[39m logResponse[33m.[39m[34mjson[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[31/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/tag-management.test.ts[2m > [22mIntegration: Tag Management[2m > [22mshould handle tag hierarchies and associations
[31m[1mAssertionError[22m: expected 401 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/tag-management.test.ts:[2m65:32[22m[39m
    [90m 63| [39m      body[33m:[39m [33mJSON[39m[33m.[39m[34mstringify[39m(animeLogData)
    [90m 64| [39m    })[33m;[39m
    [90m 65| [39m    [34mexpect[39m(logResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                               [31m^[39m
    [90m 66| [39m
    [90m 67| [39m    [90m// Query for related tags[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[32/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/tag-management.test.ts[2m > [22mIntegration: Tag Management[2m > [22mshould prevent duplicate tag creation
[31m[1mAssertionError[22m: expected 401 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/tag-management.test.ts:[2m113:35[22m[39m
    [90m111| [39m      body[33m:[39m [33mJSON[39m[33m.[39m[34mstringify[39m(secondLogData)
    [90m112| [39m    })[33m;[39m
    [90m113| [39m    [34mexpect[39m(secondResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                                  [31m^[39m
    [90m114| [39m
    [90m115| [39m    [90m// Verify only one "attack-on-titan" tag exists[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[33/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/tag-management.test.ts[2m > [22mIntegration: Tag Management[2m > [22mshould handle tag renaming and merging
[31m[1mAssertionError[22m: expected 401 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/tag-management.test.ts:[2m143:38[22m[39m
    [90m141| [39m      })
    [90m142| [39m    })[33m;[39m
    [90m143| [39m    [34mexpect[39m(updateTagResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                                     [31m^[39m
    [90m144| [39m
    [90m145| [39m    [90m// Verify logs still associated with renamed tag[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[34/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/user-onboarding.test.ts[2m > [22mIntegration: New User Registration and First Log[2m > [22mshould complete full user onboarding flow
[31m[1mAssertionError[22m: expected 'https://x.com/i/oauth2/authorize?resp…' to contain 'twitter.com'[39m

Expected: [32m"twitter.com"[39m
Received: [31m"https://x.com/i/oauth2/authorize?response_type=code&client_id=test_client_id&redirect_uri=http%3A%2F%2Flocalhost%3A8787%2Fauth%2Fcallback&scope=tweet.read+users.read&state=8f7b1db3763110671ac5631e85971dddb1e23f2c73eb2b0343e043ec215f39bc&code_challenge=xwbXorLVKv3SEENQvouXzDQHDtbw0CtNvnxiLS42e_s&code_challenge_method=S256"[39m

[36m [2m❯[22m tests/integration/user-onboarding.test.ts:[2m22:50[22m[39m
    [90m 20| [39m    })[33m;[39m
    [90m 21| [39m    [34mexpect[39m(authResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m302[39m)[33m;[39m
    [90m 22| [39m    expect(authResponse.headers.get('Location')).toContain('twitter.co…
    [90m   | [39m                                                 [31m^[39m
    [90m 23| [39m    
    [90m 24| [39m    [90m// Step 3: OAuth callback simulation[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[35/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/unit/TwitterService.test.ts[2m > [22mTwitterService[2m > [22mgetAuthUrl[2m > [22mshould generate a valid Twitter OAuth URL with state
[31m[1mAssertionError[22m: expected 'https://x.com/i/oauth2/authorize?resp…' to contain 'https://twitter.com/i/oauth2/authorize'[39m

Expected: [32m"https://[7mtwitter[27m.com/i/oauth2/authorize"[39m
Received: [31m"https://[7mx[27m.com/i/oauth2/authorize[7m?response_type=code&client_id=test-client-id&redirect_uri=https%3A%2F%2Fexample.com%2Fcallback&scope=tweet.read+users.read&state=aef828e7af516a673f068322faeca6bb65fcdd32efd2685a2bf9e17c0b9c55f9&code_challenge=JorTeCkRaQpGdzRhFQiXj6UOPCDVyqinPjtF5B7EHRw&code_challenge_method=S256[27m"[39m

[36m [2m❯[22m tests/unit/TwitterService.test.ts:[2m25:30[22m[39m
    [90m 23| [39m      [34mexpect[39m(result)[33m.[39m[34mtoHaveProperty[39m([32m'state'[39m)[33m;[39m
    [90m 24| [39m      
    [90m 25| [39m      expect(result.authUrl).toContain('https://twitter.com/i/oauth2/a…
    [90m   | [39m                             [31m^[39m
    [90m 26| [39m      [34mexpect[39m(result[33m.[39mauthUrl)[33m.[39m[34mtoContain[39m([32m`client_id=[39m[36m${[39mmockClientId[36m}[39m[32m`[39m)[33m;[39m
    [90m 27| [39m      expect(result.authUrl).toContain(`redirect_uri=${encodeURICompon…

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[36/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/workflows/end-to-end.test.ts[2m > [22mEnd-to-End User Workflows[2m > [22mAuthentication Workflow[2m > [22mshould provide Twitter OAuth authorization URL
[31m[1mAssertionError[22m: expected 302 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 302[39m

[36m [2m❯[22m tests/integration/workflows/end-to-end.test.ts:[2m23:31[22m[39m
    [90m 21| [39m    [34mit[39m([32m'should provide Twitter OAuth authorization URL'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m 22| [39m      [35mconst[39m response [33m=[39m [35mawait[39m app[33m.[39m[34mrequest[39m([32m'/auth/twitter'[39m)[33m;[39m
    [90m 23| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m 24| [39m      
    [90m 25| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[37/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/workflows/end-to-end.test.ts[2m > [22mEnd-to-End User Workflows[2m > [22mAuthentication Workflow[2m > [22mshould handle user logout
[31m[1mAssertionError[22m: expected 401 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/workflows/end-to-end.test.ts:[2m39:31[22m[39m
    [90m 37| [39m      })[33m;[39m
    [90m 38| [39m
    [90m 39| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m 40| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m 41| [39m      [34mexpect[39m(data)[33m.[39m[34mtoHaveProperty[39m([32m'message'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[38/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/workflows/end-to-end.test.ts[2m > [22mEnd-to-End User Workflows[2m > [22mAuthentication Workflow[2m > [22mshould allow access to protected endpoints with valid session
[31m[1mAssertionError[22m: expected 401 to be 200 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 200[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/workflows/end-to-end.test.ts:[2m60:31[22m[39m
    [90m 58| [39m      })[33m;[39m
    [90m 59| [39m
    [90m 60| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m 61| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m 62| [39m      [34mexpect[39m(data)[33m.[39m[34mtoHaveProperty[39m([32m'user'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[39/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/workflows/end-to-end.test.ts[2m > [22mEnd-to-End User Workflows[2m > [22mContent Management Workflow[2m > [22mshould create and manage tags
[31m[1mAssertionError[22m: expected 401 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/workflows/end-to-end.test.ts:[2m81:37[22m[39m
    [90m 79| [39m      })[33m;[39m
    [90m 80| [39m
    [90m 81| [39m      [34mexpect[39m(createResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                                    [31m^[39m
    [90m 82| [39m      [35mconst[39m createData [33m=[39m [35mawait[39m createResponse[33m.[39m[34mjson[39m()[33m;[39m
    [90m 83| [39m      [34mexpect[39m(createData)[33m.[39m[34mtoHaveProperty[39m([32m'tag'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[40/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/workflows/end-to-end.test.ts[2m > [22mEnd-to-End User Workflows[2m > [22mContent Management Workflow[2m > [22mshould create and manage logs
[31m[1mAssertionError[22m: expected 401 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/workflows/end-to-end.test.ts:[2m148:37[22m[39m
    [90m146| [39m      })[33m;[39m
    [90m147| [39m
    [90m148| [39m      [34mexpect[39m(createResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                                    [31m^[39m
    [90m149| [39m      [35mconst[39m createData [33m=[39m [35mawait[39m createResponse[33m.[39m[34mjson[39m()[33m;[39m
    [90m150| [39m      [34mexpect[39m(createData)[33m.[39m[34mtoHaveProperty[39m([32m'log'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[41/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/workflows/end-to-end.test.ts[2m > [22mEnd-to-End User Workflows[2m > [22mContent Management Workflow[2m > [22mshould manage tag associations with logs
[31m[1mAssertionError[22m: expected 401 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/workflows/end-to-end.test.ts:[2m228:34[22m[39m
    [90m226| [39m      })[33m;[39m
    [90m227| [39m
    [90m228| [39m      [34mexpect[39m(tagResponse[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)[33m;[39m
    [90m   | [39m                                 [31m^[39m
    [90m229| [39m      [35mconst[39m tagData [33m=[39m [35mawait[39m tagResponse[33m.[39m[34mjson[39m()[33m;[39m
    [90m230| [39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[42/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/workflows/end-to-end.test.ts[2m > [22mEnd-to-End User Workflows[2m > [22mContent Discovery Workflow[2m > [22mshould discover public content
[31m[1mAssertionError[22m: expected { items: [], total: +0, …(3) } to have property "logs"[39m
[36m [2m❯[22m tests/integration/workflows/end-to-end.test.ts:[2m310:30[22m[39m
    [90m308| [39m      
    [90m309| [39m      [35mconst[39m publicLogsData [33m=[39m [35mawait[39m publicLogsResponse[33m.[39m[34mjson[39m()[33m;[39m
    [90m310| [39m      [34mexpect[39m(publicLogsData)[33m.[39m[34mtoHaveProperty[39m([32m'logs'[39m)[33m;[39m
    [90m   | [39m                             [31m^[39m
    [90m311| [39m      [34mexpect[39m([33mArray[39m[33m.[39m[34misArray[39m(publicLogsData[33m.[39mlogs))[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m312| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[43/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/workflows/end-to-end.test.ts[2m > [22mEnd-to-End User Workflows[2m > [22mContent Discovery Workflow[2m > [22mshould support search functionality
[31m[1mAssertionError[22m: expected { items: [], total: +0, …(3) } to have property "logs"[39m
[36m [2m❯[22m tests/integration/workflows/end-to-end.test.ts:[2m334:26[22m[39m
    [90m332| [39m      
    [90m333| [39m      [35mconst[39m searchData [33m=[39m [35mawait[39m searchResponse[33m.[39m[34mjson[39m()[33m;[39m
    [90m334| [39m      [34mexpect[39m(searchData)[33m.[39m[34mtoHaveProperty[39m([32m'logs'[39m)[33m;[39m
    [90m   | [39m                         [31m^[39m
    [90m335| [39m      [34mexpect[39m([33mArray[39m[33m.[39m[34misArray[39m(searchData[33m.[39mlogs))[33m.[39m[34mtoBe[39m([35mtrue[39m)[33m;[39m
    [90m336| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[44/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/workflows/end-to-end.test.ts[2m > [22mEnd-to-End User Workflows[2m > [22mContent Discovery Workflow[2m > [22mshould support pagination
[31m[1mAssertionError[22m: expected { Object (items, total, ...) } to have property "logs"[39m
[36m [2m❯[22m tests/integration/workflows/end-to-end.test.ts:[2m344:29[22m[39m
    [90m342| [39m      
    [90m343| [39m      [35mconst[39m paginatedData [33m=[39m [35mawait[39m paginatedResponse[33m.[39m[34mjson[39m()[33m;[39m
    [90m344| [39m      [34mexpect[39m(paginatedData)[33m.[39m[34mtoHaveProperty[39m([32m'logs'[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m345| [39m      [34mexpect[39m(paginatedData)[33m.[39m[34mtoHaveProperty[39m([32m'hasMore'[39m)[33m;[39m
    [90m346| [39m    })[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[45/46]⎯[22m[39m

[41m[1m FAIL [22m[49m tests/integration/workflows/end-to-end.test.ts[2m > [22mEnd-to-End User Workflows[2m > [22mError Handling Workflow[2m > [22mshould handle validation errors gracefully
[31m[1mAssertionError[22m: expected 401 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 401[39m

[36m [2m❯[22m tests/integration/workflows/end-to-end.test.ts:[2m364:31[22m[39m
    [90m362| [39m      })[33m;[39m
    [90m363| [39m
    [90m364| [39m      [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)[33m;[39m
    [90m   | [39m                              [31m^[39m
    [90m365| [39m      [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()[33m;[39m
    [90m366| [39m      [34mexpect[39m(data)[33m.[39m[34mtoHaveProperty[39m([32m'error'[39m)[33m;[39m

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[46/46]⎯[22m[39m


[2m Test Files [22m [1m[31m14 failed[39m[22m[2m | [22m[1m[32m10 passed[39m[22m[2m | [22m[33m18 skipped[39m[90m (42)[39m
[2m      Tests [22m [1m[31m45 failed[39m[22m[2m | [22m[1m[32m165 passed[39m[22m[2m | [22m[33m18 skipped[39m[90m (228)[39m
[2m   Start at [22m 05:52:19
[2m   Duration [22m 83.48s[2m (transform 511ms, setup 0ms, collect 18.56s, tests 56.65s, environment 7ms, prepare 2.74s)[22m


::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/auth.contract.test.ts,title=tests/contract/auth.contract.test.ts > Contract%3A Auth routes > GET /auth/twitter > redirects to Twitter OAuth with required parameters,line=36,column=49::AssertionError: expected 'test_client_id' to be 'test-twitter-client-id' // Object.is equality%0A%0AExpected: "test-twitter-client-id"%0AReceived: "test_client_id"%0A%0A ❯ tests/contract/auth.contract.test.ts:36:49%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/health.test.ts,title=tests/contract/health.test.ts > Contract Test%3A GET /health > should return 200 status with healthy response,line=34,column=18::AssertionError: expected { status: 'healthy', …(4) } to match object { status: 'healthy', …(2) }%0A(2 matching properties omitted from actual)%0A%0A- Expected%0A+ Received%0A%0A  {%0A    "services": {%0A      "backend": StringMatching /running|stopped/,%0A-     "database": StringMatching /connected|disconnected/,%0A+     "database": "unknown",%0A    },%0A    "status": "healthy",%0A    "timestamp": Any<String>,%0A  }%0A%0A ❯ tests/contract/health.test.ts:34:18%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/logs.contract.test.ts,title=tests/contract/logs.contract.test.ts > Contract%3A Logs routes > POST /logs > returns 400 when payload is invalid,line=220,column=34::AssertionError: expected 201 to be 400 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 400%0A+ 201%0A%0A ❯ tests/contract/logs.contract.test.ts:220:34%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/tags.contract.test.ts,title=tests/contract/tags.contract.test.ts > Contract%3A Tags routes > PUT /tags/%3AtagId > updates tag fields when requested by owner,line=200,column=31::AssertionError: expected 401 to be 200 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 200%0A+ 401%0A%0A ❯ tests/contract/tags.contract.test.ts:200:31%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/tags.contract.test.ts,title=tests/contract/tags.contract.test.ts > Contract%3A Tags routes > PUT /tags/%3AtagId > returns 403 when user is not the tag owner,line=242,column=31::AssertionError: expected 401 to be 403 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 403%0A+ 401%0A%0A ❯ tests/contract/tags.contract.test.ts:242:31%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/tags.contract.test.ts,title=tests/contract/tags.contract.test.ts > Contract%3A Tags routes > PUT /tags/%3AtagId > returns 404 when tag does not exist,line=259,column=31::AssertionError: expected 401 to be 404 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 404%0A+ 401%0A%0A ❯ tests/contract/tags.contract.test.ts:259:31%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/tags.contract.test.ts,title=tests/contract/tags.contract.test.ts > Contract%3A Tags routes > DELETE /tags/%3AtagId > removes a tag owned by the requester,line=274,column=31::AssertionError: expected 401 to be 204 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 204%0A+ 401%0A%0A ❯ tests/contract/tags.contract.test.ts:274:31%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/tags.contract.test.ts,title=tests/contract/tags.contract.test.ts > Contract%3A Tags routes > DELETE /tags/%3AtagId > returns 403 when user is not the owner,line=299,column=31::AssertionError: expected 401 to be 403 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 403%0A+ 401%0A%0A ❯ tests/contract/tags.contract.test.ts:299:31%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/tags.contract.test.ts,title=tests/contract/tags.contract.test.ts > Contract%3A Tags routes > DELETE /tags/%3AtagId > returns 404 when tag does not exist,line=314,column=31::AssertionError: expected 401 to be 404 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 404%0A+ 401%0A%0A ❯ tests/contract/tags.contract.test.ts:314:31%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/tags.contract.test.ts,title=tests/contract/tags.contract.test.ts > Contract%3A Tags routes > Tag associations > creates and lists tag associations,line=331,column=37::AssertionError: expected 401 to be 201 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 201%0A+ 401%0A%0A ❯ tests/contract/tags.contract.test.ts:331:37%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/tags.contract.test.ts,title=tests/contract/tags.contract.test.ts > Contract%3A Tags routes > Tag associations > returns 400 when association payload is invalid,line=353,column=31::AssertionError: expected 401 to be 400 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 400%0A+ 401%0A%0A ❯ tests/contract/tags.contract.test.ts:353:31%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/tags.contract.test.ts,title=tests/contract/tags.contract.test.ts > Contract%3A Tags routes > Tag associations > returns 404 when base tag is missing during association creation,line=385,column=31::AssertionError: expected 401 to be 404 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 404%0A+ 401%0A%0A ❯ tests/contract/tags.contract.test.ts:385:31%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/tags.contract.test.ts,title=tests/contract/tags.contract.test.ts > Contract%3A Tags routes > Tag associations > removes an existing association,line=407,column=37::AssertionError: expected 401 to be 204 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 204%0A+ 401%0A%0A ❯ tests/contract/tags.contract.test.ts:407:37%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/contract/tags.contract.test.ts,title=tests/contract/tags.contract.test.ts > Contract%3A Tags routes > Tag associations > returns 404 when deleting association for missing tag,line=436,column=31::AssertionError: expected 401 to be 404 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 404%0A+ 401%0A%0A ❯ tests/contract/tags.contract.test.ts:436:31%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/content-discovery.test.ts,title=tests/integration/content-discovery.test.ts > Integration%3A Content Discovery > should discover content through tag browsing and associations,line=17,column=32::AssertionError: expected [] to not have a length of +0%0A ❯ tests/integration/content-discovery.test.ts:17:32%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/content-discovery.test.ts,title=tests/integration/content-discovery.test.ts > Integration%3A Content Discovery > should show related content through tag associations,line=44,column=32::AssertionError: expected 404 to be 200 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 200%0A+ 404%0A%0A ❯ tests/integration/content-discovery.test.ts:44:32%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/content-discovery.test.ts,title=tests/integration/content-discovery.test.ts > Integration%3A Content Discovery > should handle tag discovery pagination,line=68,column=29::AssertionError: expected [] to have a length of 5 but got +0%0A%0A- Expected%0A+ Received%0A%0A- 5%0A+ 0%0A%0A ❯ tests/integration/content-discovery.test.ts:68:29%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/episode-logging.test.ts,title=tests/integration/episode-logging.test.ts > Integration%3A Episode-Level Review Tracking > should track episode progress across anime series,line=46,column=33::AssertionError: expected 400 to be 201 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 201%0A+ 400%0A%0A ❯ tests/integration/episode-logging.test.ts:46:33%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/episode-logging.test.ts,title=tests/integration/episode-logging.test.ts > Integration%3A Episode-Level Review Tracking > should handle episode numbering and season tracking,line=138,column=35::AssertionError: expected 0 to be greater than or equal to 2%0A ❯ tests/integration/episode-logging.test.ts:138:35%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/error-handling.test.ts,title=tests/integration/error-handling.test.ts > Integration%3A Error Handling > should handle malformed request bodies gracefully,line=20,column=38::AssertionError: expected 401 to be 400 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 400%0A+ 401%0A%0A ❯ tests/integration/error-handling.test.ts:20:38%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/error-handling.test.ts,title=tests/integration/error-handling.test.ts > Integration%3A Error Handling > should handle database connection failures,line=35,column=38::AssertionError: expected 200 to be 503 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 503%0A+ 200%0A%0A ❯ tests/integration/error-handling.test.ts:35:38%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/error-handling.test.ts,title=tests/integration/error-handling.test.ts > Integration%3A Error Handling > should handle Twitter API failures during OAuth,line=50,column=43::AssertionError: expected 302 to be 502 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 502%0A+ 302%0A%0A ❯ tests/integration/error-handling.test.ts:50:43%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/error-handling.test.ts,title=tests/integration/error-handling.test.ts > Integration%3A Error Handling > should handle concurrent log creation conflicts,line=97,column=31::AssertionError: expected [ 201, 409, 429 ] to include 401%0A ❯ tests/integration/error-handling.test.ts:97:31%0A ❯ tests/integration/error-handling.test.ts:96:15%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/error-handling.test.ts,title=tests/integration/error-handling.test.ts > Integration%3A Error Handling > should handle extremely large request payloads,line=122,column=24::AssertionError: expected [ 413, 400 ] to include 401%0A ❯ tests/integration/error-handling.test.ts:122:24%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/error-handling.test.ts,title=tests/integration/error-handling.test.ts > Integration%3A Error Handling > should handle invalid tag associations,line=144,column=39::AssertionError: expected 401 to be 400 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 400%0A+ 401%0A%0A ❯ tests/integration/error-handling.test.ts:144:39%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/hashtag-processing.test.ts,title=tests/integration/hashtag-processing.test.ts > Hashtag Processing Integration > should process hashtags when updating a tag,line=122,column=35::AssertionError: expected 401 to be 200 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 200%0A+ 401%0A%0A ❯ tests/integration/hashtag-processing.test.ts:122:35%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/hashtag-processing.test.ts,title=tests/integration/hashtag-processing.test.ts > Hashtag Processing Integration > should support both #{tagName} and #tagName hashtag formats,line=200,column=36::AssertionError: expected [ { …(7) }, { …(7) }, { …(7) }, …(1) ] to have a length of 3 but got 4%0A%0A- Expected%0A+ Received%0A%0A- 3%0A+ 4%0A%0A ❯ tests/integration/hashtag-processing.test.ts:200:36%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/mobile-workflows.test.ts,title=tests/integration/mobile-workflows.test.ts > Integration%3A Mobile Workflows > should handle mobile user journey from login to log creation,line=17,column=50::AssertionError: expected 'https://x.com/i/oauth2/authorize?resp…' to contain 'twitter.com'%0A%0AExpected: "twitter.com"%0AReceived: "https://x.com/i/oauth2/authorize?response_type=code&client_id=test_client_id&redirect_uri=http%253A%252F%252Flocalhost%253A8787%252Fauth%252Fcallback&scope=tweet.read+users.read&state=cadd8a77e19703f41811c5e2e3ad8718d938fa2cff6d02f29244b3f5aff1cb18&code_challenge=85nqZ3TyssB0TxFkPnfyEt03b6grBkqSFIpfs3NyZbM&code_challenge_method=S256"%0A%0A ❯ tests/integration/mobile-workflows.test.ts:17:50%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/mobile-workflows.test.ts,title=tests/integration/mobile-workflows.test.ts > Integration%3A Mobile Workflows > should handle offline-to-online sync scenarios,line=104,column=35::AssertionError: expected 401 to be 201 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 201%0A+ 401%0A%0A ❯ tests/integration/mobile-workflows.test.ts:104:35%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/tag-management.test.ts,title=tests/integration/tag-management.test.ts > Integration%3A Tag Management > should create and associate new tags during log creation,line=28,column=32::AssertionError: expected 401 to be 201 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 201%0A+ 401%0A%0A ❯ tests/integration/tag-management.test.ts:28:32%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/tag-management.test.ts,title=tests/integration/tag-management.test.ts > Integration%3A Tag Management > should handle tag hierarchies and associations,line=65,column=32::AssertionError: expected 401 to be 201 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 201%0A+ 401%0A%0A ❯ tests/integration/tag-management.test.ts:65:32%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/tag-management.test.ts,title=tests/integration/tag-management.test.ts > Integration%3A Tag Management > should prevent duplicate tag creation,line=113,column=35::AssertionError: expected 401 to be 201 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 201%0A+ 401%0A%0A ❯ tests/integration/tag-management.test.ts:113:35%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/tag-management.test.ts,title=tests/integration/tag-management.test.ts > Integration%3A Tag Management > should handle tag renaming and merging,line=143,column=38::AssertionError: expected 401 to be 200 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 200%0A+ 401%0A%0A ❯ tests/integration/tag-management.test.ts:143:38%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/user-onboarding.test.ts,title=tests/integration/user-onboarding.test.ts > Integration%3A New User Registration and First Log > should complete full user onboarding flow,line=22,column=50::AssertionError: expected 'https://x.com/i/oauth2/authorize?resp…' to contain 'twitter.com'%0A%0AExpected: "twitter.com"%0AReceived: "https://x.com/i/oauth2/authorize?response_type=code&client_id=test_client_id&redirect_uri=http%253A%252F%252Flocalhost%253A8787%252Fauth%252Fcallback&scope=tweet.read+users.read&state=8f7b1db3763110671ac5631e85971dddb1e23f2c73eb2b0343e043ec215f39bc&code_challenge=xwbXorLVKv3SEENQvouXzDQHDtbw0CtNvnxiLS42e_s&code_challenge_method=S256"%0A%0A ❯ tests/integration/user-onboarding.test.ts:22:50%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/unit/CacheService.test.ts,title=tests/unit/CacheService.test.ts,line=2,column=1::Error: Cannot find module '../../src/services/CacheService.js' imported from '/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/unit/CacheService.test.ts'%0A ❯ tests/unit/CacheService.test.ts:2:1%0A%0A⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯%0ASerialized Error: { code: 'ERR_MODULE_NOT_FOUND' }%0ACaused by: Caused by: Error: Failed to load url ../../src/services/CacheService.js (resolved id: ../../src/services/CacheService.js) in /home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/unit/CacheService.test.ts. Does the file exist?%0A ❯ loadAndTransform node_modules/vite/dist/node/chunks/dep-Bm2ujbhY.js:26109:33%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/unit/TwitterService.test.ts,title=tests/unit/TwitterService.test.ts > TwitterService > getAuthUrl > should generate a valid Twitter OAuth URL with state,line=25,column=30::AssertionError: expected 'https://x.com/i/oauth2/authorize?resp…' to contain 'https://twitter.com/i/oauth2/authorize'%0A%0AExpected: "https://twitter.com/i/oauth2/authorize"%0AReceived: "https://x.com/i/oauth2/authorize?response_type=code&client_id=test-client-id&redirect_uri=https%253A%252F%252Fexample.com%252Fcallback&scope=tweet.read+users.read&state=aef828e7af516a673f068322faeca6bb65fcdd32efd2685a2bf9e17c0b9c55f9&code_challenge=JorTeCkRaQpGdzRhFQiXj6UOPCDVyqinPjtF5B7EHRw&code_challenge_method=S256"%0A%0A ❯ tests/unit/TwitterService.test.ts:25:30%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/workflows/end-to-end.test.ts,title=tests/integration/workflows/end-to-end.test.ts > End-to-End User Workflows > Authentication Workflow > should provide Twitter OAuth authorization URL,line=23,column=31::AssertionError: expected 302 to be 200 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 200%0A+ 302%0A%0A ❯ tests/integration/workflows/end-to-end.test.ts:23:31%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/workflows/end-to-end.test.ts,title=tests/integration/workflows/end-to-end.test.ts > End-to-End User Workflows > Authentication Workflow > should handle user logout,line=39,column=31::AssertionError: expected 401 to be 200 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 200%0A+ 401%0A%0A ❯ tests/integration/workflows/end-to-end.test.ts:39:31%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/workflows/end-to-end.test.ts,title=tests/integration/workflows/end-to-end.test.ts > End-to-End User Workflows > Authentication Workflow > should allow access to protected endpoints with valid session,line=60,column=31::AssertionError: expected 401 to be 200 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 200%0A+ 401%0A%0A ❯ tests/integration/workflows/end-to-end.test.ts:60:31%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/workflows/end-to-end.test.ts,title=tests/integration/workflows/end-to-end.test.ts > End-to-End User Workflows > Content Management Workflow > should create and manage tags,line=81,column=37::AssertionError: expected 401 to be 201 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 201%0A+ 401%0A%0A ❯ tests/integration/workflows/end-to-end.test.ts:81:37%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/workflows/end-to-end.test.ts,title=tests/integration/workflows/end-to-end.test.ts > End-to-End User Workflows > Content Management Workflow > should create and manage logs,line=148,column=37::AssertionError: expected 401 to be 201 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 201%0A+ 401%0A%0A ❯ tests/integration/workflows/end-to-end.test.ts:148:37%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/workflows/end-to-end.test.ts,title=tests/integration/workflows/end-to-end.test.ts > End-to-End User Workflows > Content Management Workflow > should manage tag associations with logs,line=228,column=34::AssertionError: expected 401 to be 201 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 201%0A+ 401%0A%0A ❯ tests/integration/workflows/end-to-end.test.ts:228:34%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/workflows/end-to-end.test.ts,title=tests/integration/workflows/end-to-end.test.ts > End-to-End User Workflows > Content Discovery Workflow > should discover public content,line=310,column=30::AssertionError: expected { items: [], total: +0, …(3) } to have property "logs"%0A ❯ tests/integration/workflows/end-to-end.test.ts:310:30%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/workflows/end-to-end.test.ts,title=tests/integration/workflows/end-to-end.test.ts > End-to-End User Workflows > Content Discovery Workflow > should support search functionality,line=334,column=26::AssertionError: expected { items: [], total: +0, …(3) } to have property "logs"%0A ❯ tests/integration/workflows/end-to-end.test.ts:334:26%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/workflows/end-to-end.test.ts,title=tests/integration/workflows/end-to-end.test.ts > End-to-End User Workflows > Content Discovery Workflow > should support pagination,line=344,column=29::AssertionError: expected { Object (items, total, ...) } to have property "logs"%0A ❯ tests/integration/workflows/end-to-end.test.ts:344:29%0A%0A

::error file=/home/runner/work/shumilog-wigh-spec-kit/shumilog-wigh-spec-kit/backend/tests/integration/workflows/end-to-end.test.ts,title=tests/integration/workflows/end-to-end.test.ts > End-to-End User Workflows > Error Handling Workflow > should handle validation errors gracefully,line=364,column=31::AssertionError: expected 401 to be 400 // Object.is equality%0A%0A- Expected%0A+ Received%0A%0A- 400%0A+ 401%0A%0A ❯ tests/integration/workflows/end-to-end.test.ts:364:31%0A%0A
